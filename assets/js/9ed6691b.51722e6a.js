"use strict";(self.webpackChunkscalekit_docs=self.webpackChunkscalekit_docs||[]).push([[7357],{48654:(s,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>d,default:()=>k,frontMatter:()=>c,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"m2m/quickstart","title":"M2M quickstart guide","description":"This guide explains how to implement secure Machine-2-Machine (M2M) authentication using Scalekit. You will learn how to register a third-party client, authenticate its API requests using client credentials, and validate the received access tokens in your API server.","source":"@site/docs/m2m/quickstart.mdx","sourceDirName":"m2m","slug":"/m2m/quickstart","permalink":"/m2m/quickstart","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"displayed_sidebar":"m2mSidebar","pagination_next":null},"sidebar":"m2mSidebar","previous":{"title":"Overview","permalink":"/m2m/overview"}}');var n=i(74848),r=i(28453),a=i(16249);const c={displayed_sidebar:"m2mSidebar",pagination_next:null},d="M2M quickstart guide",o={},h=[{value:"Prerequisites",id:"prerequisites",level:2},...a.RM,{value:"Register an M2M client",id:"register-an-m2m-client",level:2},{value:"Authenticate the M2M client",id:"authenticate-the-m2m-client",level:2},{value:"Validate access tokens in your API server",id:"validate-access-tokens-in-your-api-server",level:2}];function t(s){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...s.components},{CodeWithHeader:i,SimpleCode:l,TabItem:c,Tabs:d}=e;return i||p("CodeWithHeader",!0),l||p("SimpleCode",!0),c||p("TabItem",!0),d||p("Tabs",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.header,{children:(0,n.jsx)(e.h1,{id:"m2m-quickstart-guide",children:"M2M quickstart guide"})}),"\n",(0,n.jsx)(e.p,{children:"This guide explains how to implement secure Machine-2-Machine (M2M) authentication using Scalekit. You will learn how to register a third-party client, authenticate its API requests using client credentials, and validate the received access tokens in your API server."}),"\n",(0,n.jsx)(e.p,{children:"This guide provides code samples to help you integrate Scalekit's M2M authentication into your application."}),"\n",(0,n.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,n.jsx)(e.p,{children:"Before you begin, ensure you have:"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"A Scalekit account with access to the M2M authentication feature."}),"\n",(0,n.jsxs)(e.li,{children:["Familiarity with ",(0,n.jsx)(e.a,{href:"/m2m/authenticate-scalekit-api",children:"authenticating requests to the Scalekit API"}),"."]}),"\n",(0,n.jsxs)(e.li,{children:["(Optional) An understanding of how Scalekit uses ",(0,n.jsx)(e.a,{href:"/m2m/external-ids-and-metadata",children:"Organizations and external identifiers"})," to represent your customers. Each Organization can have multiple M2M clients."]}),"\n"]}),"\n",(0,n.jsx)(e.p,{children:"You can use the Scalekit SDK for a more streamlined experience, or follow the curl examples if you prefer to work without the SDK."}),"\n",(0,n.jsx)(a.Ay,{}),"\n",(0,n.jsx)(e.h2,{id:"register-an-m2m-client",children:"Register an M2M client"}),"\n",(0,n.jsx)(e.p,{children:"To allow an external system (an API consumer) to securely access your API, you first register it as an M2M client within the relevant Scalekit Organization. This step typically occurs when your customer sets up an integration via their dashboard or a setup process you provide."}),"\n",(0,n.jsxs)(e.p,{children:["Register a new M2M client by making a POST request to the ",(0,n.jsx)(l,{children:"/organizations/{organization_id}/clients"})," endpoint."]}),"\n",(0,n.jsx)(i,{title:"Register an M2M client",children:(0,n.jsxs)(d,{groupId:"tech-stack",querystring:!0,children:[(0,n.jsx)(c,{value:"curl",label:"cURL",children:(0,n.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-sh",children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"curl"}),(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" -L"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" 'https://<SCALEKIT_ENVIRONMENT_URL>/api/v1/organizations/<ORGANIZATION_ID>/clients'"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" \\"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"-H "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"'Content-Type: application/json'"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" \\"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"-H "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"'Authorization: Bearer <SCALEKIT_ACCESS_TOKEN>'"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" \\"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"-d "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"'{"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'    "name": "GitHub Actions Deployment Service",'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'    "description": "Service account for GitHub Actions to deploy applications to production",'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'    "custom_claims": ['})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"        {"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'            "key": "github_repository",'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'            "value": "acmecorp/inventory-service"'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"        },"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"        {"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'            "key": "environment",'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'            "value": "production_us"'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"        }"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"    ],"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'    "scopes": ['})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'        "deploy:applications",'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'        "read:deployments"'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"    ],"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'    "audience": ['})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'        "deployment-api.acmecorp.com"'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"    ],"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'    "expiry": 3600'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"}'"})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})}),(0,n.jsx)(c,{value:"python",label:"Python",children:(0,n.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-python",children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" scalekit.v1.clients.clients_pb2 "}),(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" OrganizationClient"})]}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"org_id "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:' "<SCALEKIT_ORGANIZATION_ID>"'})]}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"m2m_client "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" OrganizationClient("})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    name"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"GitHub Actions Deployment Service"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    description"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"Service account for GitHub Actions to deploy applications to production"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    custom_claims"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"["})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"        {"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'            "key"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"github_repository"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'            "value"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"acmecorp/inventory-service"'})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"        },"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"        {"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'            "key"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"environment"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'            "value"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"production_us"'})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"        }"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    ],"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    scopes"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"["}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"deploy:applications"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:", "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"read:deployments"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"],"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    audience"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"["}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"deployment-api.acmecorp.com"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"],"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    expiry"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:"3600"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:")"})}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"response "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" scalekit_client.m2m_client.create_organization_client("})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    organization_id"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"org_id,"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    m2m_client"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"m2m_client"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:")"})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})})]})}),"\n",(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:"Parameter"}),(0,n.jsx)(e.th,{children:"Type"}),(0,n.jsx)(e.th,{children:"Required"}),(0,n.jsx)(e.th,{children:"Description"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(l,{children:"name"})}),(0,n.jsx)(e.td,{children:"string"}),(0,n.jsx)(e.td,{children:"Optional"}),(0,n.jsx)(e.td,{children:'A descriptive name for the M2M client (e.g., "GitHub Actions Deployment Service")'})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(l,{children:"description"})}),(0,n.jsx)(e.td,{children:"string"}),(0,n.jsx)(e.td,{children:"Optional"}),(0,n.jsx)(e.td,{children:"A detailed explanation of the client's purpose and usage"})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(l,{children:"custom_claims"})}),(0,n.jsx)(e.td,{children:"array"}),(0,n.jsx)(e.td,{children:"Optional"}),(0,n.jsxs)(e.td,{children:["Key-value pairs that provide additional context about the client. Each claim must have a ",(0,n.jsx)(l,{children:"key"})," and ",(0,n.jsx)(l,{children:"value"})," field"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(l,{children:"scopes"})}),(0,n.jsx)(e.td,{children:"array"}),(0,n.jsx)(e.td,{children:"Optional"}),(0,n.jsxs)(e.td,{children:['List of permissions the client needs (e.g., ["deploy',":applications",'", "read',":deployments",'"])']})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(l,{children:"audience"})}),(0,n.jsx)(e.td,{children:"array"}),(0,n.jsx)(e.td,{children:"Optional"}),(0,n.jsx)(e.td,{children:'List of API endpoints this client will access (e.g., ["deployment-api.acmecorp.com"])'})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:(0,n.jsx)(l,{children:"expiry"})}),(0,n.jsx)(e.td,{children:"number"}),(0,n.jsx)(e.td,{children:"Optional"}),(0,n.jsx)(e.td,{children:"Token expiration time in seconds. Defaults to 3600 (1 hour)"})]})]})]}),"\n",(0,n.jsxs)(e.p,{children:["The API response contains the client details, including the ",(0,n.jsx)(l,{children:"client_id"})," and ",(0,n.jsx)(l,{children:"client_secret"}),"."]}),"\n",(0,n.jsx)(i,{title:"Register an M2M client API response",children:(0,n.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-json",children:[(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"{"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'    "client"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'        "client_id"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"m2morg_68315758685323697"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'        "secrets"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": ["})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"            {"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'                "id"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"sks_68315758802764209"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'                "create_time"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"2025-04-16T06:56:05.360Z"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'                "update_time"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"2025-04-16T06:56:05.367190455Z"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'                "secret_suffix"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"UZ0X"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'                "status"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"ACTIVE"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'                "last_used_time"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"2025-04-16T06:56:05.360Z"'})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"            }"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"        ],"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'        "name"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"GitHub Actions Deployment Service"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'        "description"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"Service account for GitHub Actions to deploy applications to production"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'        "organization_id"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"org_59615193906282635"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'        "create_time"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"2025-04-16T06:56:05.290Z"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'        "update_time"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"2025-04-16T06:56:05.292145150Z"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'        "scopes"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": ["})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'            "deploy:applications"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'            "read:deployments"'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"        ],"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'        "audience"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": ["})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'            "deployment-api.acmecorp.com"'})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"        ],"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'        "custom_claims"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": ["})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"            {"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'                "key"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"github_repository"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'                "value"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"acmecorp/inventory-service"'})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"            },"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"            {"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'                "key"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"environment"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'                "value"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"production_us"'})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"            }"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"        ]"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    },"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'    "plain_secret"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"test_ly8G57h0ErRJSObJI6dShkoaq6bigo11Dxcfa6reKG1kKNVbqBKW4H5Ctmb5UZ0X"'})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})}),"\n",(0,n.jsxs)(e.p,{children:["Note: Scalekit only returns the ",(0,n.jsx)(l,{children:"plain_secret"})," once during client creation and does not store it. Instruct your M2M client developers to store the ",(0,n.jsx)(l,{children:"plain_secret"})," securely."]}),"\n",(0,n.jsx)(e.h2,{id:"authenticate-the-m2m-client",children:"Authenticate the M2M client"}),"\n",(0,n.jsxs)(e.p,{children:["After registration, the M2M client authenticates with your Scalekit environment using its ",(0,n.jsx)(l,{children:"client_id"})," and ",(0,n.jsx)(l,{children:"client_secret"})," (the ",(0,n.jsx)(l,{children:"plain_secret"})," obtained earlier) to request an access token. This process uses the OAuth 2.0 client credentials grant type."]}),"\n",(0,n.jsxs)(e.p,{children:["The client sends a POST request to the ",(0,n.jsx)(l,{children:"/oauth/token"})," endpoint:"]}),"\n",(0,n.jsx)(i,{title:"Authenticate the M2M client",children:(0,n.jsxs)(d,{groupId:"tech-stack",querystring:!0,children:[(0,n.jsx)(c,{value:"curl",label:"cURL",children:(0,n.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-sh",children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"curl"}),(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" -X"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" POST"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" \\"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'  "https://<SCALEKIT_ENVIRONMENT_URL>/oauth/token"'}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" \\"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:"  -H"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:' "Content-Type: application/x-www-form-urlencoded"'}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" \\"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:"  -d"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:' "grant_type=client_credentials"'}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" \\"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:"  -d"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:' "client_id=<M2M_CLIENT_ID>"'}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" \\"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:"  -d"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:' "client_secret=<M2M_CLIENT_SECRET>"'}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" \\"})]}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})}),(0,n.jsx)(c,{value:"python",label:"Python",children:(0,n.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-python",children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"client_id "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:' "M2M_CLIENT_ID"'})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"client_secret "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:' "M2M_CLIENT_SECRET"'})]}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"token_response "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" scalekit_client.generate_client_token("})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    client_id"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"client_id,"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    client_secret"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"client_secret"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:")"})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})})]})}),"\n",(0,n.jsxs)(e.p,{children:["Refer to ",(0,n.jsx)(e.a,{href:"/m2m/api-auth-for-m2m-clients",children:"API Authentication for M2M clients"})," for detailed information on how M2M clients authenticate."]}),"\n",(0,n.jsx)(e.p,{children:"Upon successful authentication, Scalekit issues a JWT access token."}),"\n",(0,n.jsx)(i,{title:"Access token response",children:(0,n.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-json",children:[(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"{"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'  "access_token"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"<M2M_JWT_ACCESS_TOKEN>"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'  "token_type"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"Bearer"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'  "expires_in"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:"86399"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#79B8FF"},children:'  "scope"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"deploy:applications read:deployments"'})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})}),"\n",(0,n.jsxs)(e.p,{children:["The client includes this access token in the ",(0,n.jsx)(l,{children:"Authorization"})," header of subsequent requests to your API server."]}),"\n",(0,n.jsx)(e.h2,{id:"validate-access-tokens-in-your-api-server",children:"Validate access tokens in your API server"}),"\n",(0,n.jsx)(e.p,{children:"Your API server must validate the incoming JWT access token to ensure the request originates from a trusted M2M client and that the token is legitimate."}),"\n",(0,n.jsx)(e.p,{children:"Validate the token in two steps:"}),"\n",(0,n.jsxs)(e.ol,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Retrieve the Public Key:"})," Fetch the appropriate public key from your Scalekit environment's JSON Web Key Set (JWKS) endpoint. Use the ",(0,n.jsx)(l,{children:"kid"})," (Key ID) from the JWT header to identify the correct key. Cache the key according to standard JWKS practices."]}),"\n"]}),"\n",(0,n.jsx)(i,{title:"Retrieve the public key",children:(0,n.jsxs)(d,{groupId:"tech-stack",querystring:!0,children:[(0,n.jsx)(c,{value:"curl",label:"cURL",children:(0,n.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-js",children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:" jwksClient"}),(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:" from"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" 'jwks-rsa'"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" client"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:" jwksClient"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"({"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:"  jwksUri"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#E1E4E8"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" 'YOUR_JWKS_URI'"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:"  cache"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#E1E4E8"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" true"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"});"})}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"async"}),(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:" function"}),(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:" getPublicKey"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#FFAB70"},children:"header"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#F97583"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" any"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:")"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#F97583"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#C18401","--shiki-dark":"#B392F0"},children:" Promise"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"<"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#79B8FF"},children:"string"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"> {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"  return"}),(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:" new"}),(0,n.jsx)(e.span,{style:{color:"#C18401","--shiki-dark":"#79B8FF"},children:" Promise"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"(("}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#FFAB70"},children:"resolve"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:", "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#FFAB70"},children:"reject"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:") "}),(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"=>"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    client."}),(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"getSigningKey"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"(header."}),(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:"kid"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:", ("}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#FFAB70"},children:"err"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:", "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#FFAB70"},children:"key"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:") "}),(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"=>"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"      if"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" (err) "}),(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"reject"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"(err);"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"      else"}),(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:" resolve"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"(key."}),(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"getPublicKey"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"());"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    });"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"  });"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})}),(0,n.jsx)(c,{value:"python",label:"Python",children:(0,n.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-py",children:[(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#A0A1A7","--shiki-dark":"#6A737D",fontStyle:"italic","--shiki-dark-font-style":"inherit"},children:"# This is automatically taken care by Scalekit SDK"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"token "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" token_response["}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"<M2M_JWT_ACCESS_TOKEN>"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"claims "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" scalekit_client.validate_access_token_and_get_claims("})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    token"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"token"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:")"})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})})]})}),"\n",(0,n.jsxs)(e.ol,{start:"2",children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Verify the Token Signature:"})," Use the retrieved public key and a JWT library to verify the token's signature and claims (like issuer, audience, and expiration)."]}),"\n"]}),"\n",(0,n.jsx)(i,{title:"Verify the token signature",children:(0,n.jsxs)(d,{groupId:"tech-stack",querystring:!0,children:[(0,n.jsx)(c,{value:"curl",label:"cURL",children:(0,n.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-js",children:[(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:" jwt"}),(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:" from"}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" 'jsonwebtoken'"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"async"}),(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:" function"}),(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:" verifyToken"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#FFAB70"},children:"token"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#F97583"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" string"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:", "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#FFAB70"},children:"publicKey"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#F97583"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#79B8FF"},children:" string"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"  try"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"    const"}),(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" decoded"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" jwt."}),(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"decode"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"(token, { "}),(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:"complete"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#E1E4E8"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" true"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" });"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"    const"}),(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" verified"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" jwt."}),(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"verify"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"(token, publicKey, {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:"      algorithms"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#E1E4E8"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" ["}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"'RS256'"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"],"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:"      complete"}),(0,n.jsx)(e.span,{style:{color:"#0184BC","--shiki-dark":"#E1E4E8"},children:":"}),(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" true"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    });"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"    return"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" verified."}),(0,n.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#E1E4E8"},children:"payload"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"  } "}),(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"catch"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" (error) {"})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:"    throw"}),(0,n.jsx)(e.span,{style:{color:"#A626A4","--shiki-dark":"#F97583"},children:" new"}),(0,n.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:" Error"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:"'Token verification failed'"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:");"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"  }"})}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})}),(0,n.jsx)(c,{value:"python",label:"Python",children:(0,n.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,n.jsxs)(e.code,{className:"language-py",children:[(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#A0A1A7","--shiki-dark":"#6A737D",fontStyle:"italic","--shiki-dark-font-style":"inherit"},children:"# Token from the incoming API request's authorization header"})}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"token "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" token_response["}),(0,n.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"<M2M_JWT_ACCESS_TOKEN>"'}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"]"})]}),"\n",(0,n.jsx)(e.span,{className:"line"}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"claims "}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:" scalekit_client.validate_access_token_and_get_claims("})]}),"\n",(0,n.jsxs)(e.span,{className:"line",children:[(0,n.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#FFAB70"},children:"    token"}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"token"})]}),"\n",(0,n.jsx)(e.span,{className:"line",children:(0,n.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:")"})}),"\n",(0,n.jsx)(e.span,{className:"line"})]})})})]})}),"\n",(0,n.jsxs)(e.p,{children:["Find complete code examples in the ",(0,n.jsx)(e.a,{href:"https://github.com/scalekit-developers/gists/tree/main/m2m",children:"Scalekit M2M Gists repository"}),"."]}),"\n",(0,n.jsx)(e.p,{children:"If the token verification succeeds, your API server can trust the request's authenticity and proceed with processing it based on the permissions (scopes) encoded within the token."})]})}function k(s={}){const{wrapper:e}={...(0,r.R)(),...s.components};return e?(0,n.jsx)(e,{...s,children:(0,n.jsx)(t,{...s})}):t(s)}function p(s,e){throw new Error("Expected "+(e?"component":"object")+" `"+s+"` to be defined: you likely forgot to import, pass, or provide it.")}},16249:(s,e,i)=>{i.d(e,{Ay:()=>c,RM:()=>r});var l=i(74848),n=i(28453);const r=[];function a(s){const e={code:"code",pre:"pre",span:"span",...(0,n.R)(),...s.components},{CodeWithHeader:i,TabItem:r,Tabs:a}=e;return i||d("CodeWithHeader",!0),r||d("TabItem",!0),a||d("Tabs",!0),(0,l.jsx)(i,{title:"Setup SDK",children:(0,l.jsxs)(a,{groupId:"tech-stack",queryString:!0,children:[(0,l.jsx)(r,{value:"nodejs",label:"Node.js",children:(0,l.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-bash",children:[(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"npm"}),(0,l.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" install"}),(0,l.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" @scalekit-sdk/node"})]}),"\n",(0,l.jsx)(e.span,{className:"line"})]})})}),(0,l.jsx)(r,{value:"py",label:"Python",children:(0,l.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-shellscript",children:[(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"pip"}),(0,l.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" install"}),(0,l.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" scalekit-sdk-python"})]}),"\n",(0,l.jsx)(e.span,{className:"line"})]})})}),(0,l.jsx)(r,{value:"golang",label:"Go",children:(0,l.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-sh",children:[(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"#4078F2","--shiki-dark":"#B392F0"},children:"go"}),(0,l.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" get"}),(0,l.jsx)(e.span,{style:{color:"#986801","--shiki-dark":"#79B8FF"},children:" -u"}),(0,l.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:" github.com/scalekit-inc/scalekit-sdk-go"})]}),"\n",(0,l.jsx)(e.span,{className:"line"})]})})}),(0,l.jsxs)(r,{value:"java",label:"Java",children:[(0,l.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-groovy",children:[(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"#A0A1A7","--shiki-dark":"#6A737D",fontStyle:"italic","--shiki-dark-font-style":"inherit"},children:"/* Gradle users - add the following to your dependencies in build file */"})}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"implementation "}),(0,l.jsx)(e.span,{style:{color:"#50A14F","--shiki-dark":"#9ECBFF"},children:'"com.scalekit:scalekit-sdk-java:1.1.2"'})]}),"\n",(0,l.jsx)(e.span,{className:"line"})]})}),(0,l.jsx)(e.pre,{className:"shiki shiki-themes one-light github-dark",style:{backgroundColor:"#FAFAFA","--shiki-dark-bg":"#24292e",color:"#383A42","--shiki-dark":"#e1e4e8"},tabIndex:"0",children:(0,l.jsxs)(e.code,{className:"language-xml",children:[(0,l.jsx)(e.span,{className:"line",children:(0,l.jsx)(e.span,{style:{color:"#A0A1A7","--shiki-dark":"#6A737D",fontStyle:"italic","--shiki-dark-font-style":"inherit"},children:"\x3c!-- Maven users - add the following to your `pom.xml` --\x3e"})}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"<"}),(0,l.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#85E89D"},children:"dependency"}),(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    <"}),(0,l.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#85E89D"},children:"groupId"}),(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:">com.scalekit</"}),(0,l.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#85E89D"},children:"groupId"}),(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    <"}),(0,l.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#85E89D"},children:"artifactId"}),(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:">scalekit-sdk-java</"}),(0,l.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#85E89D"},children:"artifactId"}),(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"    <"}),(0,l.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#85E89D"},children:"version"}),(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:">1.1.2</"}),(0,l.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#85E89D"},children:"version"}),(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsxs)(e.span,{className:"line",children:[(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:"</"}),(0,l.jsx)(e.span,{style:{color:"#E45649","--shiki-dark":"#85E89D"},children:"dependency"}),(0,l.jsx)(e.span,{style:{color:"#383A42","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,l.jsx)(e.span,{className:"line"})]})})]})]})})}function c(s={}){const{wrapper:e}={...(0,n.R)(),...s.components};return e?(0,l.jsx)(e,{...s,children:(0,l.jsx)(a,{...s})}):a(s)}function d(s,e){throw new Error("Expected "+(e?"component":"object")+" `"+s+"` to be defined: you likely forgot to import, pass, or provide it.")}},28453:(s,e,i)=>{i.d(e,{R:()=>a,x:()=>c});var l=i(96540);const n={},r=l.createContext(n);function a(s){const e=l.useContext(r);return l.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function c(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(n):s.components||n:a(s.components),l.createElement(r.Provider,{value:e},s.children)}}}]);