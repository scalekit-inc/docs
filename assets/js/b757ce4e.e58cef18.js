"use strict";(self.webpackChunkscalekit_docs=self.webpackChunkscalekit_docs||[]).push([[7591],{7084:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>d,toc:()=>c});var i=n(4848),s=n(8453);const a={},r="Inspecting Claims in ID Token",d={id:"best-practices/idtoken-claims",title:"Inspecting Claims in ID Token",description:"An ID Token is nothing but a cryptographically signed Base64-encoded JSON object containing a set of name/value pairs about the user's profile information. Essentially, it is a JWT token. Ideally, it is advised that you validate an ID token before you use it, but since you are communicating directly with Scalekit over an intermediary-free HTTPS channel and using your client secret to exchange the code for the ID Token, you can be confident that the token you receive really comes from Scalekit and is valid.",source:"@site/docs/best-practices/idtoken-claims.md",sourceDirName:"best-practices",slug:"/best-practices/idtoken-claims",permalink:"/best-practices/idtoken-claims",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1714541585e3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Redirect URI",permalink:"/best-practices/redirect-uri"},next:{title:"Normalized User Profile",permalink:"/best-practices/user-profile"}},l={},c=[{value:"Example ID Token Payload",id:"example-id-token-payload",level:2},{value:"Full list of ID Token Claims",id:"full-list-of-id-token-claims",level:2}];function o(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"inspecting-claims-in-id-token",children:"Inspecting Claims in ID Token"}),"\n",(0,i.jsxs)(t.p,{children:["An ID Token is nothing but a cryptographically signed Base64-encoded JSON object containing a set of name/value pairs about the user's profile information. Essentially, it is a JWT token. Ideally, it is advised that you validate an ID token before you use it, but since you are communicating directly with Scalekit over an intermediary-free HTTPS channel and using your client secret to exchange the ",(0,i.jsx)(t.code,{children:"code"})," for the ID Token, you can be confident that the token you receive really comes from Scalekit and is valid."]}),"\n",(0,i.jsx)(t.p,{children:"If you are using our Scalekit SDK to exchange the code for the ID Token, the work of decoding the base64url-encoded values and parsing the JSON within, validating the JWT and accessing the claims within the ID token is automatically taken care of."}),"\n",(0,i.jsx)(t.h2,{id:"example-id-token-payload",children:"Example ID Token Payload"}),"\n",(0,i.jsx)(t.p,{children:"Here's an example, formatted for readability (and ignoring the header and signature fields for brevity):"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:'\n{\n  "iss": "https://yoursaas.scalekit.com",\n  "azp": "skc_12205605011849527",\n  "aud": "skc_12205605011849527",\n  "sub": "10769150350006150715113082367",\n  "at_hash": "HK6E_P6Dh8Y93mRNtsDB1Q",\n  "email": "john.doe@acmecorp.com",\n  "email_verified": true,\n  "iat": 1353601026,\n  "exp": 1353604926\n}\n\n'})}),"\n",(0,i.jsx)(t.h2,{id:"full-list-of-id-token-claims",children:"Full list of ID Token Claims"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Claim"}),(0,i.jsx)(t.th,{children:"Provided"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"aud"}),(0,i.jsx)(t.td,{children:"always"}),(0,i.jsx)(t.td,{children:"The audience that this ID token is intended for. It must be one of the client IDs of your application."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"exp"}),(0,i.jsx)(t.td,{children:"always"}),(0,i.jsx)(t.td,{children:"Expiration time on or after which the ID token must not be accepted. Represented in Unix time (integer seconds)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"iat"}),(0,i.jsx)(t.td,{children:"always"}),(0,i.jsx)(t.td,{children:"The time the ID token was issued. Represented in Unix time (integer seconds)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"iss"}),(0,i.jsx)(t.td,{children:"always"}),(0,i.jsxs)(t.td,{children:["The Issuer Identifier for the Issuer of the response. It must be your environment url. ",(0,i.jsx)(t.a,{href:"https://yoursaas.scalekit.com",children:"https://yoursaas.scalekit.com"})," or https://",(0,i.jsx)(t.em,{children:"cname"})]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"sub"}),(0,i.jsx)(t.td,{children:"always"}),(0,i.jsx)(t.td,{children:"An identifier for the user, as submitted by the Identity Provider that completed the Single Sign-on."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"at_hash"}),(0,i.jsx)(t.td,{children:"always"}),(0,i.jsx)(t.td,{children:"Access token hash. Provides validation that the access token is tied to the identity token."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"azp"}),(0,i.jsx)(t.td,{children:"always"}),(0,i.jsxs)(t.td,{children:["The client_id of the authorized presenter. Usually, this will be same as the ",(0,i.jsx)(t.code,{children:"aud"})]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"email"}),(0,i.jsx)(t.td,{children:"always"}),(0,i.jsx)(t.td,{children:"The user's email address."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"email_verified"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"True if the user's e-mail address has been verified as claimed by the Identity Provider; otherwise false."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"family_name"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"The user's surname or last name."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"given_name"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"The user's given name or first name."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"locale"}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:"The user's locale, represented by a BCP 47 language tag."})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>d});var i=n(6540);const s={},a=i.createContext(s);function r(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);