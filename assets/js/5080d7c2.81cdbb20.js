"use strict";(self.webpackChunkscalekit_docs=self.webpackChunkscalekit_docs||[]).push([[6060],{7122:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var i=n(4848),r=n(8453),s=n(5312);const o={},a="Getting Started with Social Connections",l={id:"sso/social-login",title:"Getting Started with Social Connections",description:"Enable OAuth login to your application with Google, Microsoft, GitHub, etc.",source:"@site/docs/sso/social-login.mdx",sourceDirName:"sso",slug:"/sso/social-login",permalink:"/sso/social-login",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"homeSidebar",previous:{title:"Launch Checklist",permalink:"/sso/launch-checklist"},next:{title:"Add SSO to your Login Page",permalink:"/sso/guides/setup-sso/build-login-page"}},c={},d=[{value:"1. Environment Setup",id:"1-environment-setup",level:2},{value:"Install the Scalekit SDK",id:"install-the-scalekit-sdk",level:3},...s.RM,{value:"Set up API credentials",id:"set-up-api-credentials",level:3},{value:"Get Your Credentials",id:"get-your-credentials",level:4},{value:"Store Credentials Securely",id:"store-credentials-securely",level:4},{value:"2. Authorize the Users",id:"2-authorize-the-users",level:2},{value:"3. Fetch User Details",id:"3-fetch-user-details",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{SimpleCode:o,Subtitle:a,TabItem:l,Tabs:c}=t;return o||p("SimpleCode",!0),a||p("Subtitle",!0),l||p("TabItem",!0),c||p("Tabs",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"getting-started-with-social-connections",children:"Getting Started with Social Connections"}),"\n",(0,i.jsx)(a,{children:(0,i.jsx)(t.p,{children:"Enable OAuth login to your application with Google, Microsoft, GitHub, etc."})}),"\n",(0,i.jsx)(t.p,{children:"Single Sign-On (SSO) enhances B2B SaaS application security and user experience by enabling secure authentication through an organization's Identity Provider (IdP). Some organizations use social identity providers like Google, Microsoft, GitHub, Salesforce etc."}),"\n",(0,i.jsx)(t.p,{children:"Scalekit enables your users login to your application with any of the social identity providers through OAuth 2.0. This quickstart guide will show you how to add Social Login (e.g., Login with Google) functionality to your application with just a few lines of code."}),"\n",(0,i.jsx)("figure",{children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.img,{alt:"How Scalekit\nworks",src:n(5129).A+"",width:"5776",height:"1924"}),"\n",(0,i.jsx)("figcaption",{children:"Login with Social Providers via Scalekit"})]})}),"\n",(0,i.jsx)(t.h2,{id:"1-environment-setup",children:"1. Environment Setup"}),"\n",(0,i.jsx)(t.p,{children:"Before diving in, make sure you have:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Access to your Scalekit account and API credentials"}),"\n",(0,i.jsx)(t.li,{children:"Your app's codebase for implementing and testing changes"}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"install-the-scalekit-sdk",children:"Install the Scalekit SDK"}),"\n",(0,i.jsx)(t.p,{children:"Scalekit offers language-specific SDKs for quick and easy integration with social login providers. Use the installation instructions below for your technology stack."}),"\n",(0,i.jsx)(s.Ay,{}),"\n",(0,i.jsx)(t.h3,{id:"set-up-api-credentials",children:"Set up API credentials"}),"\n",(0,i.jsx)(t.p,{children:"Secure your Scalekit API communication by setting up environment variables. You'll need three key pieces of information from your Scalekit Dashboard:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Environment URL"}),": The base URL for API calls. Each environment (dev, staging, prod) has a unique URL."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Client ID"}),": Your app's unique identifier for Scalekit communications."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Client Secret"}),": A private key to authenticate your API requests. Always keep this secret!"]}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"get-your-credentials",children:"Get Your Credentials"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Log into your Scalekit Dashboard."}),"\n",(0,i.jsx)(t.li,{children:'Select the "Development" environment.'}),"\n",(0,i.jsx)(t.li,{children:'Click on "API Config" to view your credentials.'}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"store-credentials-securely",children:"Store Credentials Securely"}),"\n",(0,i.jsxs)(t.p,{children:["Never hardcode secrets in your app. Use environment variables instead. Here's how to set them in a ",(0,i.jsx)(t.code,{children:".env"})," file:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-jsx",metastring:'title=".env"',children:"SCALEKIT_ENVIRONMENT_URL = '<COPY_ENV_URL_SCALEKIT_DASHBOARD>';\nSCALEKIT_CLIENT_ID = '<COPY_CLIENT_ID_SCALEKIT_DASHBOARD>';\nSCALEKIT_CLIENT_SECRET = '<COPY_SECRET_SCALEKIT_DASHBOARD>';\n"})}),"\n",(0,i.jsx)(t.p,{children:"Now you're ready to start integrating social connections into your app! Next, we'll cover how to use the SDK to authenticate users."}),"\n",(0,i.jsx)(t.h2,{id:"2-authorize-the-users",children:"2. Authorize the Users"}),"\n",(0,i.jsx)(t.p,{children:"To start login with social connections, your app must redirect users to the Scalekit Authorization URL with appropriate social connection provider details."}),"\n",(0,i.jsx)(t.p,{children:"Construct the Authorization URL using the following query parameters:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Parameter"}),(0,i.jsx)(t.th,{children:"Details"}),(0,i.jsx)(t.th,{}),(0,i.jsx)(t.th,{}),(0,i.jsx)(t.th,{})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(o,{className:"text--semibold",children:"redirect_uri"})}),(0,i.jsxs)(t.td,{children:["Where Scalekit sends users after IdP authentication. ",(0,i.jsx)("br",{}),"Example: ",(0,i.jsxs)(o,{children:["https:",(0,i.jsx)("span",{}),"//your-saas-app.com/auth/callback"]})," After the user is logged into the social provider, Scalekit redirects the user to this URI with one time authorization ",(0,i.jsx)(t.code,{children:"code"}),". In the later section, we will explain how to use this unique ",(0,i.jsx)(t.code,{children:"code"})," to fetch user details"]}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(o,{className:"text--semibold",children:"client_id"})}),(0,i.jsx)(t.td,{children:"Your app's unique Scalekit identifier which is mandatory for all requests. This uniquely identifies both your app and the environment (staging, prod)."}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(o,{className:"text--semibold",children:"provider"})}),(0,i.jsxs)(t.td,{children:["Informs Scalekit which Social Provider to use. You can use ",(0,i.jsx)(o,{children:"provider"})," as the request parameter with value being the unique code of the provider. For e.g., ",(0,i.jsx)(t.code,{children:"microsoft"}),". ",(0,i.jsx)("br",{}),"Currently, we support the following providers: ",(0,i.jsx)(t.code,{children:"google"}),", ",(0,i.jsx)(t.code,{children:"microsoft"}),", ",(0,i.jsx)(t.code,{children:"github"}),", ",(0,i.jsx)(t.code,{children:"gitlab"}),", ",(0,i.jsx)(t.code,{children:"linkedin"}),", ",(0,i.jsx)(t.code,{children:"salesforce"})]}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{})]})]})]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",metastring:'title="Example Authorization URL"',children:"https://auth.scalekit.com/authorize?\n  client_id=skc_122056050118122349527&\n  redirect_uri=https://yourapp.com/auth/callback&\n  provider=microsoft\n"})}),"\n",(0,i.jsxs)(t.p,{children:["See our ",(0,i.jsx)(t.a,{href:"/sso/guides/key-concepts/authorization-url",children:"Authorization URL Parameters Guide"})," for a full list of accepted parameters."]}),"\n",(0,i.jsx)(t.p,{children:"Next, construct your Authorization URL with these parameters and redirect users to this URL when they try to log in."}),"\n",(0,i.jsxs)(c,{groupId:"tech-stack",queryString:!0,children:[(0,i.jsx)(l,{value:"nodejs",label:"Node.js",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:"import { Scalekit } from '@scalekit-sdk/node';\n\n// initialize the SDK client\nconst scalekit = new Scalekit(\n  SCALEKIT_ENVIRONMENT_URL,\n  SCALEKIT_CLIENT_ID,\n  SCALEKIT_CLIENT_SECRET\n);\n\nconst authorizationURL = scalekit.getAuthorizationUrl(redirectUri, {\n  provider: 'microsoft',\n  state: state, // optional\n});\n\n// TODO: redirect the user to this authorizationURL\n"})})}),(0,i.jsx)(l,{value:"py",label:"Python",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",metastring:"showLineNumbers",children:"from scalekit import ScalekitClient, AuthorizationUrlOptions, CodeAuthenticationOptions\n\nscalekit_client = ScalekitClient(\n  <SCALEKIT_ENVIRONMENT_URL>,\n  <SCALEKIT_CLIENT_ID>,\n  <SCALEKIT_CLIENT_SECRET>\n)\n\noptions = AuthorizationUrlOptions()\n\noptions.provider = 'microsoft'\n\nauthorization_url = scalekit_client.get_authorization_url(\n  redirect_uri=<redirect_uri>,\n  options=options\n)\n"})})}),(0,i.jsx)(l,{value:"golang",label:"Go",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",metastring:"showLineNumbers",children:'\nimport (\n  "github.com/scalekit/scalekit-sdk-go"\n)\n\nfunc main() {\n  sc := scalekit.NewScalekitClient(\n    SCALEKIT_ENVIRONMENT_URL,\n    SCALEKIT_CLIENT_ID,\n    SCALEKIT_CLIENT_SECRET\n  )\n\n  options := scalekit.AuthorizationUrlOptions{}\n  // Pass the Social Login Provider details while constructing the authorization URL.\n  options.Provider = "microsoft"\n\n  authorizationURL := sc.GetAuthorizationUrl(\n    redirectUrl,\n    options,\n  )\n  // next step is to redirect the user to this authorizationURL\n}\n'})})}),(0,i.jsx)(l,{value:"java",label:"Java",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-java",metastring:"showLineNumbers",children:'package com.scalekit;\nimport com.scalekit.ScalekitClient;\nimport com.scalekit.internal.http.AuthorizationUrlOptions;\npublic class Main {\n  public static void main(String[] args) {\n    ScalekitClient scalekitClient = new ScalekitClient(\n      "SCALEKIT_ENVIRONMENT_URL",\n      "SCALEKIT_CLIENT_ID",\n      "SCALEKIT_CLIENT_SECRET"\n    );\n    AuthorizationUrlOptions options = new AuthorizationUrlOptions();\n    // Option 1: Authorization URL with the organization ID\n    options.setOrganizationId("org_13388706786312310");\n    // Option 2: Authorization URL with the connection ID\n    options.setConnectionId("con_13388706786312310");\n    // Option 3: Authorization URL with login hint\n    options.setLoginHint("<user@example.com>");\n    try {\n      String url = scalekitClient.authentication().getAuthorizationUrl(\n        redirectUrl, options).toString();\n    } catch (Exception e) {\n      System.out.println(e.getMessage());\n    }\n  }\n}\n'})})})]}),"\n",(0,i.jsxs)(t.p,{children:["Finally, handle the callback at your ",(0,i.jsx)(o,{children:"redirect_uri"})," to complete the Authentication."]}),"\n",(0,i.jsx)(t.h2,{id:"3-fetch-user-details",children:"3. Fetch User Details"}),"\n",(0,i.jsxs)(t.p,{children:["After a successful SSO, Scalekit redirects the user to your ",(0,i.jsx)(o,{children:"redirect_uri"})," with a unique ",(0,i.jsx)(o,{children:"code"})," in the browser. Exchange the ",(0,i.jsx)(o,{children:"code"})," for user profile details (on the serverside)."]}),"\n",(0,i.jsxs)(t.p,{children:["Here's how to turn that ",(0,i.jsx)(o,{children:"code"})," into user data:"]}),"\n",(0,i.jsxs)(c,{groupId:"tech-stack",queryString:!0,children:[(0,i.jsx)(l,{value:"nodejs",label:"Node.js",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:"const { code, state } = req.query;\n\nif (error) {\n  // handle errors\n}\n\n// If you passed state as part of authorize flow, check if the same value is returned to you.\n// We recommend this additional state check validation to prevent CSRF vulnerabilities.\n\nconst res = await scalekit.authenticateWithCode(\n  code,\n  redirectUri,\n);\n\n// res.user has the authenticated user's details\nconst userEmail = res.user.email;\n\n// Next step: create a session for this user and allow access\n"})})}),(0,i.jsx)(l,{value:"py",label:"Python",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",metastring:"showLineNumbers",children:"from scalekit import ScalekitClient, AuthorizationUrlOptions, CodeAuthenticationOptions\n\nscalekit_client = ScalekitClient(<SCALEKIT_ENVIRONMENT_URL>, <SCALEKIT_CLIENT_ID>, <SCALEKIT_CLIENT_SECRET>)\n\n# Handle the oauth redirect_url\n# fetch code and error_description from request parameters.\ncode = request.args.get('code')\nerror = request.args.get('error')\nerror_description = request.args.get('error_description')\n\nif error:\n    raise Exception(error_description)\n\nresult = scalekit_client.authenticate_with_code(\n  code, \n  <redirect_uri>\n)\n# result.user has the authenticated user's details\nuser_email = result.user.email\n\n# create a session and redirect the user to your dashboard\n"})})}),(0,i.jsx)(l,{value:"golang",label:"Go",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",metastring:"showLineNumbers",children:'\nimport (\n  "github.com/scalekit/scalekit-sdk-go"\n)\n\nsc := scalekit.NewScalekitClient(\n  SCALEKIT_ENVIRONMENT_URL,\n  SCALEKIT_CLIENT_ID,\n  SCALEKIT_CLIENT_SECRET\n)\n\n// Handle the oauth redirect_url\n// fetch code and error_description from request parameters.\ncode := r.URL.Query().Get("code")\nerror := r.URL.Query().Get("error")\nerrorDescription := r.URL.Query().Get("error_description")\n\nif error != "" {\n  // handle errors and exit\n}\n\n\n// if there are no errors and if this is not an IdP initiated SSO, then authenticate with the code\nres, err := sc.AuthenticateWithCode(code, redirectUrl)\nif err != nil {\n  // handle errors and exit\n}\n\n// res.User has the authenticated user\'s details\nuserEmail := res.User.Email\n\n// create a session and redirect the user to your dashboard\n'})})}),(0,i.jsx)(l,{value:"java",label:"Java",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-java",children:'@GetMapping("/callback")\npublic String callbackHandler(\n  @RequestParam(required = false) String code,\n  @RequestParam(required = false, name =\n  "error_description") String errorDescription,\n  HttpServletResponse response) throws IOException {\n  if (errorDescription != null) {\n    response.sendError(HttpStatus.BAD_REQUEST.value(), errorDescription);\n    return null;\n  }\n  if (code == null || code.isEmpty()) {\n    response.sendError(HttpStatus.BAD_REQUEST.value(), "code not found");\n    return null;\n  }\n  try {\n    AuthenticationResponse res = scalekit.authentication()\n      .authenticateWithCode(\n        code,\n        redirectUrl,\n        new AuthenticationOptions()\n      );\n    String userEmail = res.getIdTokenClaims().getEmail();\n    System.out.println(userEmail);\n  } catch (Exception e) {\n    System.out.println(e.getMessage());\n    return null;\n  }\n  return null;\n}\n'})})})]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}function p(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},5312:(e,t,n)=>{n.d(t,{Ay:()=>a,RM:()=>s});var i=n(4848),r=n(8453);const s=[];function o(e){const t={code:"code",pre:"pre",...(0,r.R)(),...e.components},{TabItem:n,Tabs:s}=t;return n||l("TabItem",!0),s||l("Tabs",!0),(0,i.jsxs)(s,{groupId:"tech-stack",queryString:!0,children:[(0,i.jsx)(n,{value:"nodejs",label:"Node.js",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"npm install @scalekit-sdk/node\n"})})}),(0,i.jsx)(n,{value:"py",label:"Python",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"pip install scalekit-sdk-python\n"})})}),(0,i.jsx)(n,{value:"golang",label:"Go",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:"go get -u github.com/scalekit-inc/scalekit-sdk-go\n"})})}),(0,i.jsxs)(n,{value:"java",label:"Java",children:[(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-groovy",children:'/* Gradle users - add the following to your dependencies in build file */\nimplementation "com.scalekit:scalekit-sdk-java:1.0.0"\n'})}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:"\x3c!-- Maven users - add the following to your `pom.xml` (Maven) --\x3e\n<dependency>\n    <groupId>com.scalekit</groupId>\n    <artifactId>scalekit-sdk-java</artifactId>\n    <version>1.0.0</version>\n</dependency>\n"})})]})]})}function a(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}function l(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},5129:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/scalekit_social-a3766a0389271c05739c72d7875dd680.png"},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var i=n(6540);const r={},s=i.createContext(r);function o(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);