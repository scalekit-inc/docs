"use strict";(self.webpackChunkscalekit_docs=self.webpackChunkscalekit_docs||[]).push([[3905],{55258:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"integrations/adfs-saml","title":"Microsoft AD FS","description":"Step-by-step guide to configure single sign-on with Microsoft ADFS as the identity provider","source":"@site/docs/integrations/adfs-saml.mdx","sourceDirName":"integrations","slug":"/integrations/adfs-saml","permalink":"/integrations/adfs-saml","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"displayed_sidebar":"integrationsSidebar"},"sidebar":"integrationsSidebar","previous":{"title":"PingIdentity - SAML","permalink":"/integrations/pingidentity-saml"},"next":{"title":"Generic Provider - SAML","permalink":"/integrations/saml"}}');var s=n(74848),r=n(28453);const a={displayed_sidebar:"integrationsSidebar"},l="Microsoft AD FS",c={},o=[{value:"1. Choose identity provider",id:"1-choose-identity-provider",level:2},{value:"2. Open AD FS management console",id:"2-open-ad-fs-management-console",level:2},{value:"3. Create relying party trust",id:"3-create-relying-party-trust",level:2},{value:"4. Configure federation metadata file",id:"4-configure-federation-metadata-file",level:2},{value:"5. Set display name",id:"5-set-display-name",level:2},{value:"6. Configure access control",id:"6-configure-access-control",level:2},{value:"7. Review trust configuration",id:"7-review-trust-configuration",level:2},{value:"8. Create claim rules",id:"8-create-claim-rules",level:2},{value:"9. Map user attributes",id:"9-map-user-attributes",level:2},{value:"10. Complete admin portal configuration",id:"10-complete-admin-portal-configuration",level:2},{value:"11. Test connection",id:"11-test-connection",level:2},{value:"12. Enable connection",id:"12-enable-connection",level:2}];function d(e){const i={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Subtitle:t}=i;return t||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Subtitle",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"microsoft-ad-fs",children:"Microsoft AD FS"})}),"\n",(0,s.jsx)(t,{children:(0,s.jsx)(i.p,{children:"Step-by-step guide to configure single sign-on with Microsoft ADFS as the identity provider"})}),"\n",(0,s.jsx)(i.p,{children:"This guide walks you through configuring Microsoft AD FS as your SAML identity provider for the application you are onboarding, enabling secure single sign-on for your users. You'll learn how to set up an enterprise application, configure SAML settings to the host application. By following these steps, your users will be able to seamlessly authenticate using their Microsoft AD FS credentials."}),"\n",(0,s.jsx)(i.h2,{id:"1-choose-identity-provider",children:"1. Choose identity provider"}),"\n",(0,s.jsx)(i.p,{children:"Choose Microsoft AD FS as your identity provider to begin the configuration in admin portal."}),"\n",(0,s.jsx)("figure",{className:"limited-width",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Choose Identity Provider",src:n(79476).A+"",width:"2558",height:"1172"}),"\n",(0,s.jsx)("figcaption",{children:"Choose Identity Provider"})]})}),"\n",(0,s.jsx)(i.p,{children:"Download Metadata XML file so that you can configure AD FS Server going forward."}),"\n",(0,s.jsx)("figure",{className:"limited-width",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Download Metadata XML",src:n(78030).A+"",width:"2260",height:"876"}),"\n",(0,s.jsx)("figcaption",{children:"Download Metadata XML"})]})}),"\n",(0,s.jsx)(i.h2,{id:"2-open-ad-fs-management-console",children:"2. Open AD FS management console"}),"\n",(0,s.jsx)(i.p,{children:"Search for 'AD FS Management' in the start menu and open it."}),"\n",(0,s.jsx)(i.h2,{id:"3-create-relying-party-trust",children:"3. Create relying party trust"}),"\n",(0,s.jsx)(i.p,{children:"In the left navigation pane, expand 'ADFS'"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Right-click 'Relying Party Trusts'"}),"\n",(0,s.jsx)(i.li,{children:"Select 'Add Relying Party Trust'"}),"\n"]}),"\n",(0,s.jsx)("figure",{className:"limited-width",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"AD FS Management Console",src:n(78272).A+"",width:"1262",height:"929"}),"\n",(0,s.jsx)("figcaption",{children:"AD FS Management Console"})]})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Select 'Claims aware' as the trust type and click 'Next'"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"4-configure-federation-metadata-file",children:"4. Configure federation metadata file"}),"\n",(0,s.jsx)(i.p,{children:"Choose 'Import data about the relying party from a file'"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Click 'Browse' and select the Metadata XML file you downloaded earlier"}),"\n",(0,s.jsx)(i.li,{children:"Click 'Next' to proceed"}),"\n"]}),"\n",(0,s.jsx)("figure",{className:"limited-width",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Select Data Source",src:n(85024).A+"",width:"768",height:"634"}),"\n",(0,s.jsx)("figcaption",{children:"Select Data Source"})]})}),"\n",(0,s.jsx)(i.h2,{id:"5-set-display-name",children:"5. Set display name"}),"\n",(0,s.jsx)(i.p,{children:"Enter a descriptive name for the application you are integrating with (e.g., \"ExampleApp\") and click 'Next' to continue"}),"\n",(0,s.jsx)("figure",{className:"limited-width",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Specify Display Name",src:n(63145).A+"",width:"768",height:"634"}),"\n",(0,s.jsx)("figcaption",{children:"Specify Display Name"})]})}),"\n",(0,s.jsx)(i.h2,{id:"6-configure-access-control",children:"6. Configure access control"}),"\n",(0,s.jsx)(i.p,{children:"Select an appropriate access control policy"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"For this guide, select 'Permit everyone'"}),"\n",(0,s.jsx)(i.li,{children:"Click 'Next' to proceed"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"7-review-trust-configuration",children:"7. Review trust configuration"}),"\n",(0,s.jsx)(i.p,{children:"Verify the following settings:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Monitoring configuration"}),"\n",(0,s.jsx)(i.li,{children:"Endpoints"}),"\n",(0,s.jsx)(i.li,{children:"Encryption settings"}),"\n",(0,s.jsx)(i.li,{children:"Click 'Next' to continue"}),"\n"]}),"\n",(0,s.jsx)("figure",{className:"limited-width",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Review Trust Configuration",src:n(36351).A+"",width:"768",height:"634"}),"\n",(0,s.jsx)("figcaption",{children:"Review Trust Configuration"})]})}),"\n",(0,s.jsx)(i.p,{children:"The wizard will complete with the 'Claim Issuance Policy' option automatically selected."}),"\n",(0,s.jsx)("figure",{className:"limited-width",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Edit Claim Issuance Policy",src:n(83140).A+"",width:"768",height:"634"}),"\n",(0,s.jsx)("figcaption",{children:"Edit Claim Issuance Policy"})]})}),"\n",(0,s.jsx)(i.h2,{id:"8-create-claim-rules",children:"8. Create claim rules"}),"\n",(0,s.jsx)(i.p,{children:"Click 'Add Rule' to create a new claim rule"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Select 'Send LDAP Attributes as Claims' template"}),"\n"]}),"\n",(0,s.jsx)("figure",{className:"limited-width",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Create Claim Rule",src:n(37037).A+"",width:"538",height:"595"}),"\n",(0,s.jsx)("figcaption",{children:"Create Claim Rule"})]})}),"\n",(0,s.jsx)("figure",{className:"limited-width",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Configure Attribute Mapping",src:n(79258).A+"",width:"768",height:"634"}),"\n",(0,s.jsx)("figcaption",{children:"Configure LDAP Attribute Mapping"})]})}),"\n",(0,s.jsx)(i.h2,{id:"9-map-user-attributes",children:"9. Map user attributes"}),"\n",(0,s.jsx)(i.p,{children:'Enter a descriptive rule name (e.g., "Example App")'}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Configure the following attribute mappings:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"E-Mail-Addresses"})," \u2192 E-Mail Address"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"Given-Name"})," \u2192 Given Name"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"Surname"})," \u2192 Surname"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"User-Principal-Name"})," \u2192 Name ID"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Click 'OK' to complete the mapping and then 'Apply' changes"}),"\n"]}),"\n",(0,s.jsx)("figure",{className:"limited-width",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Map User Attributes",src:n(43363).A+"",width:"601",height:"642"}),"\n",(0,s.jsx)("figcaption",{children:"Map User Attributes"})]})}),"\n",(0,s.jsx)(i.h2,{id:"10-complete-admin-portal-configuration",children:"10. Complete admin portal configuration"}),"\n",(0,s.jsx)(i.p,{children:"Navigate to Identity Provider Configuration in the Admin Portal"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:'Select "Configure Manually"'}),"\n",(0,s.jsxs)(i.li,{children:["Enter these required details:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Microsoft AD FS Identifier: ",(0,s.jsx)(i.code,{children:"http://<YOUR_AD_FS_SERVER_DOMAIN>/adfs/services/trust"})]}),"\n",(0,s.jsxs)(i.li,{children:["Login URL: ",(0,s.jsx)(i.code,{children:"http://<YOUR_AD_FS_SERVER_DOMAIN>/adfs/ls"})]}),"\n",(0,s.jsxs)(i.li,{children:["Certificate:","\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Access ",(0,s.jsx)(i.code,{children:"https://<YOUR_AD_FS_SERVER_DOMAIN>/FederationMetadata/2007-06/FederationMetadata.xml"})]}),"\n",(0,s.jsxs)(i.li,{children:["Locate the text after the first ",(0,s.jsx)(i.code,{children:"X509Certificate"})," tag"]}),"\n",(0,s.jsx)(i.li,{children:'Copy and paste this certificate into the "Certificate" field'}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:'Click "Update" to save the configuration'}),"\n"]}),"\n",(0,s.jsx)("figure",{className:"limited-width",children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Update Configuration",src:n(92443).A+"",width:"2320",height:"1250"}),"\n",(0,s.jsx)("figcaption",{children:"Update Configuration"})]})}),"\n",(0,s.jsx)(i.p,{children:"The above endpoints are AD FS endpoints. You can find them listed in AD FS Console > Service > Endpoints > Tokens and Metadata sections"}),"\n",(0,s.jsx)(i.h2,{id:"11-test-connection",children:"11. Test connection"}),"\n",(0,s.jsxs)(i.p,{children:["Click on ",(0,s.jsx)(i.strong,{children:"Test Connection."})," If everything is done correctly, you will see a ",(0,s.jsx)(i.strong,{children:"Success"})," response as shown below."]}),"\n",(0,s.jsx)(i.p,{children:"If the connection fails, you'll see an error, the reason for the error, and a way to solve that error right on the screen."}),"\n",(0,s.jsx)("figure",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Test SSO configuration",src:n(70820).A+"",width:"2198",height:"978"}),"\n",(0,s.jsx)("figcaption",{children:"Test SSO configuration"})]})}),"\n",(0,s.jsx)(i.h2,{id:"12-enable-connection",children:"12. Enable connection"}),"\n",(0,s.jsxs)(i.p,{children:["Click on ",(0,s.jsx)(i.strong,{children:"Enable Connection."})," This will let all your selected users login to the new application via your AD FS SSO."]}),"\n",(0,s.jsx)("figure",{children:(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Enable SSO Connection",src:n(24717).A+"",width:"2194",height:"250"}),"\n",(0,s.jsx)("figcaption",{children:"Enable SSO Connection"})]})})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},79476:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/-1-1-35a88be246095b901b6a06fb3e77dfed.png"},78030:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/-1-f89719d434dbad164536fb9fd41d54ce.png"},78272:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/0-1-7a7f19a995cabe10f5ba553815ef0af0.png"},92443:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/12-1-4d662dcc2bd8aa34502ec3754609f113.png"},85024:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/2-f2ac0e7c87d20fecb483f85b6c917476.png"},63145:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/3-a4a7784fd3698ac5f20b8cf85b641140.png"},36351:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/5-b05b30e2071da54731c7a5c07210dc4d.png"},83140:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/6-ad0db641a687c14bab88c25d5109c2d8.png"},37037:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/7-d3419b8dcbc3752d0c5fee2d10ac7ae5.png"},79258:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/8-aa667cc62e8014747a5838e08c8ca762.png"},43363:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/9-a49f1c4b70f137edff4ae7a97df488ad.png"},70820:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/18-d927059d4de4f9d360023b673934ddf4.png"},24717:(e,i,n)=>{n.d(i,{A:()=>t});const t=n.p+"assets/images/19-c3ed9eeb03fbebe0f3cb7e367df38f3f.png"},28453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>l});var t=n(96540);const s={},r=t.createContext(s);function a(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);