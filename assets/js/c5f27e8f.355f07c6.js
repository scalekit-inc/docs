"use strict";(self.webpackChunkscalekit_docs=self.webpackChunkscalekit_docs||[]).push([[6617],{9351:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>r});var n=i(4848),t=i(8453);const l={slug:"idtoken-claims",displayed_sidebar:"homeSidebar"},d="Inspect Claims in ID Token",a={id:"sso/guides/key-concepts/idtoken-claims",title:"Inspect Claims in ID Token",description:"An ID Token is a JSON Web Token (JWT) containing cryptographically signed claims about a user's profile information. This is issued by Scalekit after successful authentication. The ID Token is a Base64-encoded JSON object with three parts: header, payload, and signature.",source:"@site/docs/sso/guides/key-concepts/5-idtoken-claims.mdx",sourceDirName:"sso/guides/key-concepts",slug:"/sso/guides/key-concepts/idtoken-claims",permalink:"/sso/guides/key-concepts/idtoken-claims",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{slug:"idtoken-claims",displayed_sidebar:"homeSidebar"},sidebar:"homeSidebar",previous:{title:"Redirect URI",permalink:"/sso/guides/key-concepts/redirect-uri"},next:{title:"Normalized User Profile",permalink:"/sso/guides/key-concepts/user-profile"}},c={},r=[{value:"Sample Payload",id:"sample-payload",level:2},{value:"Full list of ID Token Claims",id:"full-list-of-id-token-claims",level:2},{value:"Usage Notes",id:"usage-notes",level:2}];function o(e){const s={code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components},{SimpleCode:i}=s;return i||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("SimpleCode",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"inspect-claims-in-id-token",children:"Inspect Claims in ID Token"}),"\n",(0,n.jsx)(s.p,{children:"An ID Token is a JSON Web Token (JWT) containing cryptographically signed claims about a user's profile information. This is issued by Scalekit after successful authentication. The ID Token is a Base64-encoded JSON object with three parts: header, payload, and signature."}),"\n",(0,n.jsx)(s.p,{children:"Here's an example of the payload. Note this is formatted for readability and the header and signature fields are skipped."}),"\n",(0,n.jsx)(s.h2,{id:"sample-payload",children:"Sample Payload"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:'{\n  "iss": "https://yoursaas.scalekit.com",\n  "azp": "skc_12205605011849527",\n  "aud": ["skc_12205605011849527"],\n  "amr": ["conn_17576372041941092"],\n  "sub": "conn_17576372041941092;google-oauth2|104630259163176101050",\n  "at_hash": "HK6E_P6Dh8Y93mRNtsDB1Q",\n  "c_hash": "HK6E_P6Dh8Y93mRNtsDB1Q",\n  "iat": 1353601026,\n  "exp": 1353604926,\n  "name": "John Doe",\n  "given_name": "John",\n  "family_name": "Doe",\n  "picture": "https://lh3.googleusercontent.com/a/ACg8ocKNE4TZj2kyLOj094kie_gDlUyU7JCZtbaiEma17URCEf=s96-c",\n  "locale": "en",\n  "email": "john.doe@acmecorp.com",\n  "email_verified": true\n}\n'})}),"\n",(0,n.jsx)(s.h2,{id:"full-list-of-id-token-claims",children:"Full list of ID Token Claims"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Claim"}),(0,n.jsx)(s.th,{children:"Presence"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"aud"})}),(0,n.jsx)(s.td,{children:"Always"}),(0,n.jsx)(s.td,{children:"Intended audience (client ID)"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"amr"})}),(0,n.jsx)(s.td,{children:"Always"}),(0,n.jsx)(s.td,{children:"Authentication Method Reference values"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"exp"})}),(0,n.jsx)(s.td,{children:"Always"}),(0,n.jsx)(s.td,{children:"Expiration time (Unix timestamp)"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"iat"})}),(0,n.jsx)(s.td,{children:"Always"}),(0,n.jsx)(s.td,{children:"Issuance time (Unix timestamp)"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"iss"})}),(0,n.jsx)(s.td,{children:"Always"}),(0,n.jsx)(s.td,{children:"Issuer identifier (Scalekit environment URL)"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"oid"})}),(0,n.jsx)(s.td,{children:"Always"}),(0,n.jsx)(s.td,{children:"Organization ID of the user"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"sub"})}),(0,n.jsx)(s.td,{children:"Always"}),(0,n.jsx)(s.td,{children:"Subject identifier for the user"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"at_hash"})}),(0,n.jsx)(s.td,{children:"Always"}),(0,n.jsx)(s.td,{children:"Access token hash"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"c_hash"})}),(0,n.jsx)(s.td,{children:"Always"}),(0,n.jsx)(s.td,{children:"Authorization code hash"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"azp"})}),(0,n.jsx)(s.td,{children:"Always"}),(0,n.jsxs)(s.td,{children:["Authorized presenter (usually same as ",(0,n.jsx)(s.code,{children:"aud"}),")"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"email"})}),(0,n.jsx)(s.td,{children:"Always"}),(0,n.jsx)(s.td,{children:"User's email address"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"email_verified"})}),(0,n.jsx)(s.td,{children:"Optional"}),(0,n.jsx)(s.td,{children:"Email verification status"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"name"})}),(0,n.jsx)(s.td,{children:"Optional"}),(0,n.jsx)(s.td,{children:"User's full name"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"family_name"})}),(0,n.jsx)(s.td,{children:"Optional"}),(0,n.jsx)(s.td,{children:"User's surname or last name"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"given_name"})}),(0,n.jsx)(s.td,{children:"Optional"}),(0,n.jsx)(s.td,{children:"User's given name or first name"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"locale"})}),(0,n.jsx)(s.td,{children:"Optional"}),(0,n.jsx)(s.td,{children:"User's locale (BCP 47 language tag)"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(i,{className:"text--semibold",children:"picture"})}),(0,n.jsx)(s.td,{children:"Optional"}),(0,n.jsx)(s.td,{children:"URL of user's profile picture"})]})]})]}),"\n",(0,n.jsx)(s.h2,{id:"usage-notes",children:"Usage Notes"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"The ID Token is received over a secure HTTPS channel using the client secret."}),"\n",(0,n.jsx)(s.li,{children:"Validation of the ID Token is handled automatically when using the Scalekit SDK."}),"\n",(0,n.jsxs)(s.li,{children:["The ",(0,n.jsx)(i,{children:"sub"})," claim combines the ",(0,n.jsx)(i,{children:"connection_id"})," and the provider's unique identifier."]}),"\n",(0,n.jsxs)(s.li,{children:["The ",(0,n.jsx)(i,{children:"iss"})," claim must match your Scalekit environment URL."]}),"\n",(0,n.jsxs)(s.li,{children:["The ",(0,n.jsx)(i,{children:"amr"})," claim typically contains the ",(0,n.jsx)(i,{children:"connection_id"})," used for authentication."]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"This structure provides a neutral, factual reference for ID Token Claims in Scalekit, organized according to the data structure itself."}),"\n",(0,n.jsxs)(s.p,{children:["An ID Token is nothing but a cryptographically signed Base64-encoded JSON object containing a set of name/value pairs about the user's profile information. Essentially, it is a JWT token. Ideally, it is advised that you validate an ID token before you use it, but since you are communicating directly with Scalekit over an intermediary-free HTTPS channel and using your client secret to exchange the ",(0,n.jsx)(i,{children:"code"})," for the ID Token, you can be confident that the token you receive really comes from Scalekit and is valid."]}),"\n",(0,n.jsx)(s.p,{children:"If you are using our Scalekit SDK to exchange the code for the ID Token, the work of decoding the base64url-encoded values and parsing the JSON within, validating the JWT and accessing the claims within the ID token is automatically taken care of."})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>d,x:()=>a});var n=i(6540);const t={},l=n.createContext(t);function d(e){const s=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);