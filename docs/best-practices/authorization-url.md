
# Authorization URL

As mentionined in the [SSO Basics](./single-sign-on.md) document, the first step of initiating login with SSO via Scalekit is to send the **Authorization URL** request.

In this document, we will detail all the parameters accepted by us and the corresponding behaviour of these request parameters.

## Authorization URL Endpoint

Before we talk about all the possible request parameters accepted, let's see an example of how the authorization URL endpoint.

```http
https://<environment_domain>/oauth/authorize?
    response_type=code&
    client_id=skc_1234&
    scope=openid%20profile&
    redirect_uri=https%3A%2F%2Fyoursaas.com%2Fcallback&
    organization_id=org_1243412&
    state=aHR0cHM6Ly95b3Vyc2Fhcy5jb20vZGVlcGxpbms%3D
```

You can use our SDK to generate this authorization URL.

<Tabs groupId="tech-stack">
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
// init client
const sc = new Scalekit(
  SCALEKIT_ENVIRONMENT_URL,
  SCALEKIT_CLIENT_ID,
  SCALEKIT_CLIENT_SECRET
);

const authorizationURL = sc.getAuthorizationUrl(
  redirectUri, 
  {
    state: "state", //optional
    loginHint: "user@example.com", //optional
    connectionId: "conn_1223231234124", //optional
    domain: "example.com", //optional
    organizationId: "org_123235245" //optional
  }
)

// next step is to redirect the user to this authorizationURL
```

</TabItem>
<TabItem value="golang" label="Go">

```go
// init client
sc := scalekit.NewScalekit(
  SCALEKIT_ENVIRONMENT_URL,
  SCALEKIT_CLIENT_ID,
  SCALEKIT_CLIENT_SECRET
)

url, _ := sc.GetAuthorizationUrl(
  redirectUrl,
  scalekit.AuthorizationUrlOptions{
    State: "state", //optional
    LoginHint: "user@example.com", //optional
    ConnectionId: "conn_1223231234124", //optional
    Domain: "example.com", //optional
    OrganizationId: "org_12442", //optional
  }
)

// next step is to redirect the user to this authorizationURL
```
</TabItem>
</Tabs>

## Possible Authorization URL Parameters

|Parameter|Required|Description|
|--- |--- |--- |
|<SimpleCode>client_id</SimpleCode>|REQUIRED|The client ID string that you obtain from the API Credentials page|
|<SimpleCode>nonce</SimpleCode>|OPTIONAL|A random value generated by your app that enables replay protection.|
|<SimpleCode>organization_id</SimpleCode>|REQUIRED *|Organization ID for which the SSO flow must be initiated for. Based on the organization ID supplied, the user will be redirected to the SSO connection's identity provider configured for that organization.|
|<SimpleCode>connection_id</SimpleCode>|REQUIRED *|Connection ID for which the SSO flow must be initiated for. If the Connection's status is `active`, the user will be redirected to the SSO Connection's identity provider configured.|
|<SimpleCode>domain</SimpleCode>|REQUIRED *|domain part of the email address that is configured for an organization. Example: yourcustomer.com|
||* one of organization_id, connection_id or domain must be sent as a request parameter to determine which SSO connection needs to be used to initiate the SSO flow.||
|<SimpleCode>response_type</SimpleCode>|REQUIRED|value must be `code`|
|<SimpleCode>redirect_uri</SimpleCode>|REQUIRED|Determines where the response is sent. The value of this parameter must exactly match one of the authorized redirect values that you set in the API Credentials page (including the HTTP or HTTPS scheme, case, and trailing '/', if any). <br/><br/> Click <a href="/best-practices/redirect-uri" target="_blank">here to read more</a> about redirect_uri|
|<SimpleCode>scope</SimpleCode>|REQUIRED|value must be `openid profile`|
|<SimpleCode>state</SimpleCode>|OPTIONAL, but strongly recommended|An opaque string that is round-tripped in the protocol; that is to say, it is returned back as-is as a URI parameter in the Basic flow. The state can be useful for correlating requests and responses. Because your redirect_uri can be guessed, using a state value can increase your assurance that an incoming connection is the result of an authentication request initiated by your app. <br/> <br/>State will be useful if you would like to retain some information about the user that you would like to use at the end of the login flow - for example: deep link URL in your product to redirect the user to after a successful login. <br/><br/>If you generate a random string or encode the hash of some client state (e.g., a cookie) in this state variable, you can validate the response to additionally ensure that the request and response originated in the same browser. This additional validation offers protection against attacks such as cross-site request forgery.|
|<SimpleCode>login_hint</SimpleCode>|OPTIONAL|When your app knows the email address of the user it is trying to authenticate, it can provide this parameter as a hint to the authentication server and Scalekit will pass this information to your customer's identity provider. Some identity providers prefill the login box with this value to make the login experience easier for the end user.|
