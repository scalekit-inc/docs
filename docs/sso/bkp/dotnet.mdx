---
title: .NET SDK
draft: true
hide_table_of_contents: true
hide_title: true
---

### .NET SDK Code Examples

<CodeWithHeader title="Installing Scalekit SDK">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```bash showLineNumbers
npm install @scalekit-sdk/node
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```bash showLineNumbers
dotnet add package Scalekit.SDK
```

</TabItem>

</Tabs>

</CodeWithHeader>

<CodeWithHeader title="Construct Authorization URL">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js showLineNumbers
import { ScalekitClient } from '@scalekit-sdk/node';
// Initialize the SDK client
const scalekit = new ScalekitClient(
  '<SCALEKIT_ENVIRONMENT_URL>',
  '<SCALEKIT_CLIENT_ID>',
  '<SCALEKIT_CLIENT_SECRET>',
);

const options = {};

// Option 1: Authorization URL with the organization ID
options['organizationId'] = 'org_15421144869927830';

// Option 2: Authorization URL with login hint
options['connectionId'] = 'conn_15696105471768821';

// Option 3: Authorization URL with login hint
options['loginHint'] = 'user@example.com';

const authorizationURL = scalekit.getAuthorizationUrl(redirectUrl, options);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
using Scalekit.SDK;
using Scalekit.SDK.Models;

// Initialize the SDK client
ScalekitClient scalekitClient = new ScalekitClient(
  Environment.GetEnvironmentVariable("SCALEKIT_ENV_URL"),
  Environment.GetEnvironmentVariable("SCALEKIT_CLIENT_ID"),
  Environment.GetEnvironmentVariable("SCALEKIT_CLIENT_SECRET")
);

var options = new AuthorizationUrlOptions{};

// Option 1: Authorization URL with the Organization ID
options.OrganizationId = "org_68485184474841862";

// Option 2: Authorization URL with Connection ID
options.ConnectionId = "conn_69058956353339702";

// Option 3: Authorization URL with login hint
options.LoginHint = "user@example.com";

string redirectUrl = "https://yourapp.com/auth/callback";
string authorizationUrl = scalekitClient.GetAuthorizationUrl(redirectUrl, options);
```

</TabItem>

</Tabs>

</CodeWithHeader>

<CodeWithHeader title="Fetch User Profile (sso/quickstart)">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
// Handle oauth redirect_url, fetch code and error_description from request params
const { code, error, error_description, idp_initiated_login, connection_id, relay_state } =
  req.query;

if (error) {
  // Handle errors
}

// Recommended: Handle idp initiated login

const result = await scalekit.authenticateWithCode(code, redirectUri);
const userEmail = result.user.email;

// Next step: create a session for this user and allow access
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
string code = HttpContext.Request.Query["code"].ToString();
string error = HttpContext.Request.Query["error"].ToString();
string errorDescription = HttpContext.Request.Query["error_description"].ToString();
string idpInitiatedLogin = HttpContext.Request.Query["idp_initiated_login"].ToString();
string connectionId = HttpContext.Request.Query["connection_id"].ToString();
string relayState = HttpContext.Request.Query["relay_state"].ToString();

if (!string.IsNullOrEmpty(error)) {
    //Handle error
}
    
try
{
    // Exchange the code for tokens and user info
    var result = await scalekitClient.AuthenticateWithCode(code, redirectUrl);
    var userEmail = result.User.Email;
    
    // Next step: create a session for this user and allow access
}
catch (Exception ex)
{
    // Handle exception
}
```

</TabItem>
</Tabs>
</CodeWithHeader>

### Quickstart admin portal

<CodeWithHeader title="Fetch User Profile (sso/quickstart)">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
import { Scalekit } from '@scalekit-sdk/node';

const scalekit = new Scalekit(
  process.env.ENVIRONMENT_URL,
  process.env.CLIENT_ID,
  process.env.CLIENT_SECRET,
);

async function generatePortalLink(orgID) {
  const link = await scalekit.organization.generatePortalLink(orgID);
  console.log(JSON.stringify(link, null, 2));
}
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
using Scalekit.SDK;
using Scalekit.SDK.Models;

ScalekitClient scalekitClient = new ScalekitClient(
    Environment.GetEnvironmentVariable("SCALEKIT_ENV_URL"),
    Environment.GetEnvironmentVariable("SCALEKIT_CLIENT_ID"),
    Environment.GetEnvironmentVariable("SCALEKIT_CLIENT_SECRET")
);

string orgId = "org_68xxxxxxxxxxxxx62";
var link = await scalekitClient.Organization.GeneratePortalLink(orgId);

Console.WriteLine(JsonSerializer.Serialize(link, new JsonSerializerOptions { WriteIndented = true }));

```

</TabItem>
</Tabs>
</CodeWithHeader>

### Test SSO integration

<CodeWithHeader title="Generate an Authorization URL using an Organization ID">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
const options = {};
options['organizationId'] = 'org_32656XXXXXX0438';

// Generate Authorization Url
const authorizationURL = scalekit.getAuthorizationUrl(redirectUrl, options);

res.redirect(authorizationUrl);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
var options = new AuthorizationUrlOptions{};
options.OrganizationId = "org_684xxxxxxxxxx1862";

//Generate the authorization URL
string authorizationUrl = scalekitClient.GetAuthorizationUrl(redirectUrl, options);

//Redirect the user to the authorization URL
```

</TabItem>
</Tabs>
</CodeWithHeader>

### Social login integration

<CodeWithHeader title="Social Connection Authorization">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
import { Scalekit } from '@scalekit-sdk/node';

const scalekit = new Scalekit('<SCALEKIT_ENVIRONMENT_URL>', '<SCALEKIT_CLIENT_ID>', '<SCALEKIT_CLIENT_SECRET>');

const authorizationURL = scalekit.getAuthorizationUrl(redirectUri, {
  provider: 'microsoft',
  state: state, // optional
});
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
using Scalekit.SDK;
using Scalekit.SDK.Models;

ScalekitClient scalekitClient = new ScalekitClient(
    Environment.GetEnvironmentVariable("SCALEKIT_ENV_URL"),
    Environment.GetEnvironmentVariable("SCALEKIT_CLIENT_ID"),
    Environment.GetEnvironmentVariable("SCALEKIT_CLIENT_SECRET")
);

var options = new AuthorizationUrlOptions{};
options.Provider = "microsoft";

string authorizationUrl = scalekitClient.GetAuthorizationUrl(redirectUrl, options);

//Redirect the user to the authorization URL
```

</TabItem>
</Tabs>
</CodeWithHeader>

<CodeWithHeader title="Fetch Social Login User Details">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
const { code, state } = req.query;

if (error) {
  // Handle errors
}

const res = await scalekit.authenticateWithCode(code, redirectUri);
const userEmail = res.user.email;
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
string code = HttpContext.Request.Query["code"].ToString();
string error = HttpContext.Request.Query["error"].ToString();
string errorDescription = HttpContext.Request.Query["error_description"].ToString();

if (!string.IsNullOrEmpty(error)) {
    //Handle error
}

try
{
    // Exchange the code for tokens and user info
    var result = await scalekitClient.AuthenticateWithCode(code, redirectUrl);

    // Extract user info
    var userEmail = result.User.Email;
    
    // Next step: create a session for this user and allow access
}
catch (Exception ex)
{
    // Handle exception
}
```

</TabItem>
</Tabs>
</CodeWithHeader>

### Build Login Page

<CodeWithHeader title="Build Login Page">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
import { Scalekit } from '@scalekit-sdk/node';

// Initialize the SDK client
const scalekit = new Scalekit(
  '<SCALEKIT_ENVIRONMENT_URL>',
  '<SCALEKIT_CLIENT_ID>',
  '<SCALEKIT_CLIENT_SECRET>',
);

options = {};

// Option 1: Authorization URL with the organization ID
options['organizationId'] = 'org_15421144869927830';

// Option 2: Authorization URL with login hint
options['loginHint'] = 'user@example.com';

authorizationURL = scalekit.getAuthorizationUrl(
  redirect_uri,
  options,
);

// Next step is to redirect the user to this authorization URL
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
using Scalekit.SDK;
using Scalekit.SDK.Models;

//Initialize the SDK client
ScalekitClient scalekitClient = new ScalekitClient(
    Environment.GetEnvironmentVariable("SCALEKIT_ENV_URL"),
    Environment.GetEnvironmentVariable("SCALEKIT_CLIENT_ID"),
    Environment.GetEnvironmentVariable("SCALEKIT_CLIENT_SECRET")
);

var options = new AuthorizationUrlOptions{};

// Option 1: Authorization URL with the organization ID
options.OrganizationId = "org_68485XXXXXX1862";

// Option 2: Authorization URL with login hint
options.LoginHint = "user@example.com";

try 
{
    string authorizationUrl = scalekitClient.GetAuthorizationUrl(redirectUrl, options);
}
catch (Exception ex) {
    // Handle exception
}

//Redirect the user to the authorization URL
```

</TabItem>
</Tabs>
</CodeWithHeader>

### Implement IdP-initiated SSO

<CodeWithHeader title="Implement IdP-initiated SSO">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
// 1. Default redirect URL is callback with JWT
const { code, error_description, idp_initiated_login } = req.query;

  if (error_description) {
    return res.status(400).json({ message: error_description });
  }


// 2. Decode the JWT
if (idp_initiated_login) {

  const {
    connection_id,
    organization_id,
    login_hint,
    relay_state
  } = await scalekit.getIdpInitiatedLoginClaims(idp_initiated_login);

  let options = {};
  // Either ONE of the following properties
    options["connectionId"] = connection_id
    options["organizationId"] = organization_id
    options["loginHint"] = login_hint

    // 3. Generate Authorization URL
    const url = scalekit.getAuthorizationUrl(
      <redirect_uri>,
      options
    )
    return res.redirect(url);
  }
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
// 1. Default redirect URL is callback with JWT
var code = HttpContext.Request.Query["code"].ToString();
var errorDescription = HttpContext.Request.Query["error_description"].ToString();
var idpInitiatedLogin = HttpContext.Request.Query["idp_initiated_login"].ToString();

if (!string.IsNullOrEmpty(errorDescription))
    // Handle error

// 2. Decode JWT claims
if (!string.IsNullOrEmpty(idpInitiatedLogin))
{
    try
    {
        var claims = await scalekitClient.GetIdpInitiatedLoginClaims(idpInitiatedLogin);

        // Assign claims to authorization options if available
        var options = new AuthorizationUrlOptions();

        if (!string.IsNullOrEmpty(claims.ConnectionId))
            options.ConnectionId = claims.ConnectionId;

        if (!string.IsNullOrEmpty(claims.OrganizationId))
            options.OrganizationId = claims.OrganizationId;

        if (!string.IsNullOrEmpty(claims.LoginHint))
            options.LoginHint = claims.LoginHint;

        if (!string.IsNullOrEmpty(claims.RelayState))
            options.State = claims.RelayState;

        // 3. Generate Authorization URL
        string authorizationUrl = scalekitClient.GetAuthorizationUrl(redirectUrl, options);

        return Redirect(authorizationUrl);
    }
    catch (Exception ex)
    {
        //Handle exception
    }
}
```

</TabItem>
</Tabs>
</CodeWithHeader>

### Understanding authorization URL

<CodeWithHeader title="Understanding authorization URL">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
import { ScalekitClient } from '@scalekit-sdk/node';

const scalekit = new ScalekitClient('<SCALEKIT_ENVIRONMENT_URL>', '<SCALEKIT_CLIENT_ID>', '<SCALEKIT_CLIENT_SECRET>');

const options = {
  loginHint: 'user@example.com',
  organizationId: 'org_123235245',
};

const authorizationURL = scalekit.getAuthorizationUrl(redirectUri, options);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
using Scalekit.SDK;
using Scalekit.SDK.Models;

ScalekitClient scalekitClient = new ScalekitClient(
    "<SCALEKIT_ENVIRONMENT_URL>",
    "<SCALEKIT_CLIENT_ID>",
    "<SCALEKIT_CLIENT_SECRET>"
);

var options = new AuthorizationUrlOptions
{   
    OrganizationId = "org_68485XXXXXX1862",
    LoginHint="user@example.com",
};

try 
{
    string authorizationUrl = scalekitClient.GetAuthorizationUrl(redirectUrl, options);
}
catch (Exception ex) {
    // Handle exception
}
```

</TabItem>
</Tabs>
</CodeWithHeader>

### SCIM Provisioning > Admin portal

<CodeWithHeader title="Understanding authorization URL">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
//Install and Import Scalekit SDK

async function generatePortalLink(orgID) {
  const link = await scalekit.organization.generatePortalLink(orgID);
  console.log(JSON.stringify(link, null, 2));
}
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
var link = await scalekitClient.Organization.GeneratePortalLink(OrganizationId);
```

</TabItem>
</Tabs>
</CodeWithHeader>

### SCIM Provisioning > Automate role assignment

<CodeWithHeader title="Webhook to automate role assignment">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
// Webhook endpoint
app.post('/webhook', async (req, res) => {
  // Extract event data
  const event = req.body;
  const { email, name, roles } = event.data;
  console.log('Admin added user to Viewer Group -> Scalekit informs Your App\n');

  // Destructure role_name from roles array
  const roleName = roles.length > 0 ? roles[0].role_name : null;
  console.log('Role name received:', roleName);

  // Logic to update user role and permissions
  await assignRole(roleName, email);
  console.log('App updated access for user:', email);

  res.status(201).json({
    message: 'Role assigned',
  });
});
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
[HttpPost("webhook")]
public async Task<IActionResult> HandleWebhook()
{
    try
    {
        // Read the request body
        using var reader = new StreamReader(Request.Body);
        var body = await reader.ReadToEndAsync();

        // Parse JSON payload
        var payload = JObject.Parse(body);
        var userRoles = payload["data"]?["roles"] as JArray;
        var userEmail = payload["data"]?["email"]?.ToString();

        if (userRoles != null && userRoles.Count > 0)
        {
            var roleName = userRoles[0]?["role_name"]?.ToString();

            // Assign role to user
            await AssignRole(roleName, userEmail);
        }

        return StatusCode(201);
    }
    catch (Exception)
    {
        return StatusCode(500, "An error occurred");
    }
}
```

</TabItem>
</Tabs>
</CodeWithHeader>

### Best Practices for webhooks

<CodeWithHeader title="Best Practices for webhooks">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
app.post('/webhook', async (req, res) => {
  // Parse the JSON body of the request
  const event = await req.json();

  // Get headers from the request
  const headers = req.headers;

  // Secret from Scalekit dashboard > Webhooks
  const secret = process.env.SCALEKIT_WEBHOOK_SECRET;

  try {
    // Verify the webhook payload
    await scalekit.verifyWebhookPayload(secret, headers, event);
  } catch (error) {
    return res.status(400).json({
      error: 'Invalid signature',
    });
  }
});

```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
[HttpPost("webhook")]
public async Task<IActionResult> HandleWebhook()
{
    try 
    {
        // Read headers from the request
        var headers = Request.Headers;
        var headersDict = Request.Headers
            .ToDictionary(kvp => kvp.Key.ToLowerInvariant(), kvp => kvp.Value.ToString());

        // Parse the body of the request    
        var body = await new StreamReader(Request.Body).ReadToEndAsync(); 

        // Secret from Scalekit dashboard - Webhooks
        string secret = "<WEBHOOK SECRET>";

        bool result = scalekitClient.VerifyWebhookPayload(secret, headersDict, body);

        if (!result)
        {
            return Unauthorized("Invalid webhook signature");
        }        
        return Ok("Webhook received");
    }
    catch (Exception)
    {
        return StatusCode(500, "An error occurred");
    }   
}
```

</TabItem>
</Tabs>
</CodeWithHeader>

<CodeWithHeader title="Handling different event types">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
app.post('/webhook', async (req, res) => {
  const event = req.body;

  // Handle different event types
  switch (event.type) {
    case 'organization.directory.user_created':
      const { email, name } = event.data;
      await createUserAccount(email, name);
      break;

    case 'organization.directory.user_updated':
      await updateUserAccount(event.data);
      break;

    default:
      console.log('Unhandled event type:', event.type);
  }

  return res.status(201).json({
    status: 'success',
  });
});

async function createUserAccount(email, name) {
  // Implement your user creation logic
}

```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
[HttpPost("webhook")]
public async Task<IActionResult> HandleWebhook()
{
    try
    {
        using var reader = new StreamReader(Request.Body);
        var body = await reader.ReadToEndAsync();
        var eventData = JObject.Parse(body);

        var eventType = eventData["type"]?.ToString();
        var data = eventData["data"];
        
        switch (eventType)
        {
            case "organization.directory.user_created":
                await HandleUserCreate(data);
                break;

            case "organization.directory.user_updated":
                await HandleUserUpdate(data);
                break;

            default:
                Console.WriteLine("Unhandled event type: " + eventType);
                break;
        }

        return StatusCode(201, new { status = "success" });
    }
    catch (Exception)
    {
        return StatusCode(500, "An error occurred");
    }
}
```

</TabItem>
</Tabs>
</CodeWithHeader>

# API Reference


## Single Sign-On


<CodeWithHeader title="Get Authorization URL">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
import { ScalekitClient } from '@scalekit-sdk/node';

// Initialize the SDK client
const scalekit = new ScalekitClient(
  '<SCALEKIT_ENVIRONMENT_URL>',
  '<SCALEKIT_CLIENT_ID>',
  '<SCALEKIT_CLIENT_SECRET>'
);

const options = {};

// Option 1: Authorization URL with the organization ID
options['organizationId'] = 'org_15421144869927830';

// Option 2: Authorization URL with login hint
options.connectionId = 'conn_15696105471768821';

// Option 3: Authorization URL with login hint
options.loginHint = 'user@example.com';

const authorizationURL = scalekit.getAuthorizationUrl(redirectUrl, options);

```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
using Scalekit.SDK;
using Scalekit.SDK.Models;

ScalekitClient scalekitClient = new ScalekitClient(
    "<SCALEKIT_ENVIRONMENT_URL>",
    "<SCALEKIT_CLIENT_ID>",
    "<SCALEKIT_CLIENT_SECRET>"
);

var options = new AuthorizationUrlOptions();

// Option 1: Authorization URL with the organization ID
options.OrganizationId = "org_68485184474841862";

// Option 2: Authorization URL with connection ID
options.ConnectionId = "conn_69058956353339702";

// Option 3: Authorization URL with login hint
options.LoginHint = "user@example.com";

try 
{
    string authorizationUrl = scalekitClient.GetAuthorizationUrl(redirectUrl, options);
}
catch (Exception ex) {
    // Handle exception
}
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="Token URL">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
// Handle the oauth redirect
const { code, error, error_description } = req.query;
if (error) {
  // Handle error
  return throw new Error(error_description);
}

// Fetch user details by exchanding the code received in the request params
const { user } = await scalekit.authenticateWithCode(code, '<redirectUri>');
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
string code = HttpContext.Request.Query["code"].ToString();
string error = HttpContext.Request.Query["error"].ToString();
string errorDescription = HttpContext.Request.Query["error_description"].ToString();

if (!string.IsNullOrEmpty(error)) 
    throw new Exception(errorDescription);

try
{
    // Exchange the code for tokens and user info
    var result = await scalekitClient.AuthenticateWithCode(code, redirectUrl);

    // Extract user info
    var userEmail = result.User.Email;
    
    // Next step: create a session for this user and allow access
}
catch (Exception ex)
{
    // Handle exception
}
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="List Organizations">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
const organizations = await scalekit.organization.listOrganization({
  pageSize: 10,
});
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
ListOrganizationsResponse organizations = await scalekitClient.Organization.ListOrganizations(10);
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="Create an Organization">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```javascript showLineNumbers
const organization = await sc.organization.createOrganization(name, {
  externalId: 'externalId',
});
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
CreateOrganizationResponse createOrganization = await scalekitClient.Organization.CreateOrganization(
    organizationName,
    new CreateOrganizationOptions
    {
        ExternalId = "externalId"
    }
);
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="Get Organization Details">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
const sc = new ScalekitClient(
  <SCALEKIT_ENVIRONMENT_URL>,
  <SCALEKIT_CLIENT_ID>,
  <SCALEKIT_CLIENT_SECRET>
);

const organization = await sc.organization.getOrganization(organization_id);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
ScalekitClient scalekitClient = new ScalekitClient(
    "<SCALEKIT_ENVIRONMENT_URL>",
    "<SCALEKIT_CLIENT_ID>",
    "<SCALEKIT_CLIENT_SECRET>"
);

GetOrganizationResponse organization = await scalekitClient.Organization.GetOrganization(organizationId);
```

</TabItem>
</Tabs>
</CodeWithHeader>

<CodeWithHeader title="Update Organization Details">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
const organization = await sc.organization.updateOrganization(organization_id, {
  displayName: 'displayName',
  externalId: 'externalId',
});
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
UpdateOrganizationResponse updateOrganization = await scalekitClient.Organization.UpdateOrganization(organizationId, new UpdateOrganization 
{
    DisplayName = "displayName",
    ExternalId = "externalId",
});
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="Toggle Organization Settings">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
const settings = {
  features: [
    {
      name: 'sso',
      enabled: true,
    },
    {
      name: 'dir_sync',
      enabled: true,
    },
  ],
};

await sc.organization.updateOrganizationSettings('<organization_id>', settings);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
var settings = new OrganizationSettings();
settings.Features.Add(new OrganizationSettingsFeature { Name = "sso", Enabled = true });
settings.Features.Add(new OrganizationSettingsFeature { Name = "dir_sync", Enabled = true });

GetOrganizationResponse updateOrgSettings = await scalekitClient.Organization.UpdateOrganizationSettings(organizationId, settings);
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="Delete an Organization">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
await sc.organization.deleteOrganization(organizationId);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
await scalekitClient.Organization.DeleteOrganization(organizationId);
```

</TabItem>
</Tabs>
</CodeWithHeader>

### Admin Portal


<CodeWithHeader title="Generate Admin Portal Link">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
const link = await sc.organization.generatePortalLink(organization_id);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
Link link = await scalekitClient.Organization.GeneratePortalLink(organizationId);
```

</TabItem>
</Tabs>
</CodeWithHeader>

## SSO Connection

<CodeWithHeader title="List Connections">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
const connections = await sc.connection.listConnections(organizationId);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
ListConnectionsResponse connections = await scalekitClient.Connection.ListConnections(organizationId);
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="Get Connection Details">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
const connection = await sc.connection.getConnection(
  organizationId,
  connectionId
);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
GetConnectionResponse connection = await scalekitClient.Connection.GetConnection(organizationId, connectionId);
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="Enable a Connection">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
await sc.connection.enableConnection(organizationId, connectionId);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
ToggleConnectionResponse connectionResponse = await scalekitClient.Connection.EnableConnection(organizationId, connectionId);
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="Disable a Connection">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
await sc.connection.disableConnection(organizationId, connectionId);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
ToggleConnectionResponse connectionResponse = await scalekitClient.Connection.DisableConnection(organizationId, connectionId);
```

</TabItem>
</Tabs>
</CodeWithHeader>

### Directory Sync

<CodeWithHeader title="Enable a Directory">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
await sc.directory.enableDirectory('<organization_id>', '<directory_id>');
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
ToggleDirectoryResponse directoryResponse = await scalekitClient.Directory.EnableDirectory(organizationId, directoryId);
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="Get Directory Details">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
const { directory } = await scalekit.directory.getDirectory(
  organizationId,
  directoryId
);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
GetDirectoryResponse directory = await scalekitClient.Directory.GetDirectory(organizationId, directoryId);
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="List Directory Users">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
const { users } = await scalekit.directory.listDirectoryUsers(
  '<organization_id>',
  '<directory_id>'
);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
ListDirectoryUsersResponse directoryUsers = await scalekitClient.Directory.ListDirectoryUsers(organizationId, directoryId);
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="List Directory Groups">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
const { groups } = await scalekit.directory.listDirectoryGroups(
  '<organization_id>',
  '<directory_id>'
);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
ListDirectoryGroupsResponse directoryGroups = await scalekitClient.Directory.ListDirectoryGroups(organizationId, directoryId);
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="List Organization Directories">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
await scalekit.directory.listDirectories('<organization_id>');
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
ListDirectoriesResponse directories = await scalekitClient.Directory.ListDirectories(organizationId);
```

</TabItem>
</Tabs>
</CodeWithHeader>


<CodeWithHeader title="Disable a Directory">
<Tabs groupId="tech-stack" queryString>
<TabItem value="nodejs" label="Node.js">

```js
await scalekit.directory.disableDirectory(
  '<organization_id>',
  '<directory_id>'
);
```

</TabItem>

<TabItem value="dotnet" label=".NET">

```cs showLineNumbers
ToggleDirectoryResponse directoryResponse = await scalekitClient.Directory.DisableDirectory(organizationId, directoryId);
```

</TabItem>
</Tabs>
</CodeWithHeader>
