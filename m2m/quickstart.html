<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-m2m/quickstart" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">M2M quickstart guide | Scalekit Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.scalekit.com/m2m/quickstart"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="documentation, authentication, single sign-on, sso, saml, oidc, oauth2, enterprise"><meta data-rh="true" property="twitter:card" content="summary_large_image"><meta data-rh="true" property="twitter:title" content="Home | Scalekit Docs"><meta data-rh="true" property="twitter:desription" content="Learn how to implement  authentication capabilities through our quick start guides, SDKs and code samples"><meta data-rh="true" property="twitter:image" content="/img/docs_og.png"><meta data-rh="true" property="og:desription" content="Learn how to implement  authentication capabilities through our quick start guides, SDKs and code samples"><meta data-rh="true" property="og:image" content="/img/docs_og.png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="M2M quickstart guide | Scalekit Docs"><meta data-rh="true" name="description" content="This guide explains how to implement secure Machine-2-Machine (M2M) authentication using Scalekit. You will learn how to register a third-party client, authenticate its API requests using client credentials, and validate the received access tokens in your API server."><meta data-rh="true" property="og:description" content="This guide explains how to implement secure Machine-2-Machine (M2M) authentication using Scalekit. You will learn how to register a third-party client, authenticate its API requests using client credentials, and validate the received access tokens in your API server."><link data-rh="true" rel="icon" href="https://cdn.prod.website-files.com/65b87d98fa638289e10b8f61/67ab35acf2f180e0fe0a94a8_S%20Icon%20-%20Black%20-%2032x32.png"><link data-rh="true" rel="canonical" href="https://docs.scalekit.com/m2m/quickstart"><link data-rh="true" rel="alternate" href="https://docs.scalekit.com/m2m/quickstart" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.scalekit.com/m2m/quickstart" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://7554BDRAJD-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-N4QQB5CB",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.2b32691a.css">
<script src="/assets/js/runtime~main.ea858e72.js" defer="defer"></script>
<script src="/assets/js/main.1707b345.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N4QQB5CB" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/scalekit_docs_logo.svg" alt="Scalekit Docs" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://assets-global.website-files.com/65b87d98fa638289e10b8f61/65c269053d86c92e0cf91db5_scalekit-logo.svg" alt="Scalekit Docs" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link sso" href="/sso/overview">SSO</a><a class="navbar__item navbar__link scim" href="/scim/quickstart">SCIM Provisioning</a><a aria-current="page" class="navbar__item navbar__link m2m navbar__link--active" href="/m2m/overview">M2M</a><a class="navbar__item navbar__link" href="/sdks">SDKs</a><a class="navbar__item navbar__link" href="/apis">API</a><a class="navbar__item navbar__link" href="/integrations">Integrations</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://app.scalekit.com/ws/signup" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link loginLink">Start building auth</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><span class="text--uppercase text--light sidenav-category-heading">Getting Started</span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/m2m/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/m2m/quickstart">M2M Quickstart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/scalekit-developers/gists/tree/main/m2m" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">View code examples<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><span class="text--uppercase text--light sidenav-category-heading">Learn M2M Concepts</span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/m2m/m2m-basics">M2M authentication explained</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/m2m/api-auth-for-m2m-clients">Authenticate M2M clients</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><span class="text--uppercase text--light sidenav-category-heading">How-to Guides</span></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/m2m/authenticate-scalekit-api">Authenticate with Scalekit API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/m2m/external-ids-and-metadata">Manage organization identifiers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/m2m/scopes">Configure client scopes</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">M2M Quickstart</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>M2M quickstart guide</h1></header>
<p>This guide explains how to implement secure Machine-2-Machine (M2M) authentication using Scalekit. You will learn how to register a third-party client, authenticate its API requests using client credentials, and validate the received access tokens in your API server.</p>
<p>This guide provides code samples to help you integrate Scalekit&#x27;s M2M authentication into your application.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>Before you begin, ensure you have:</p>
<ul>
<li>A Scalekit account with access to the M2M authentication feature.</li>
<li>Familiarity with <a href="/m2m/authenticate-scalekit-api">authenticating requests to the Scalekit API</a>.</li>
<li>(Optional) An understanding of how Scalekit uses <a href="/m2m/external-ids-and-metadata">Organizations and external identifiers</a> to represent your customers. Each Organization can have multiple M2M clients.</li>
</ul>
<p>This guide does not cover installing or configuring Scalekit itself.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="register-an-m2m-client">Register an M2M client<a href="#register-an-m2m-client" class="hash-link" aria-label="Direct link to Register an M2M client" title="Direct link to Register an M2M client">​</a></h2>
<p>To allow an external system (an API consumer) to securely access your API, you first register it as an M2M client within the relevant Scalekit Organization. This step typically occurs when your customer sets up an integration via their dashboard or a setup process you provide.</p>
<p>Register a new M2M client by making a POST request to the <code class="simple_code">/organizations/{organization_id}/clients</code> endpoint.</p>
<div class="scalar-card"><div class="scalar-card-content scalar-card--muted scalar-card-header"><div class="scalar-card-header-slots"><div class="scalar-card-header-slot scalar-card-header-title">Register an M2M client</div></div></div><div class="scalar-card-content scalar-card--muted custom-scroll"><div><div class="CodeBlock_WzW2"><div class="content_jaVp"><pre class="pre_H8NU shiki"><code class="language-sh"><span class="line"><span style="color:#4078F2;--shiki-dark:#B392F0">curl</span><span style="color:#986801;--shiki-dark:#79B8FF"> -L</span><span style="color:#50A14F;--shiki-dark:#9ECBFF"> &#x27;https://&lt;SCALEKIT_ENVIRONMENT_URL&gt;/api/v1/organizations/&lt;ORGANIZATION_ID&gt;/clients&#x27;</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> \</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">-H </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&#x27;Content-Type: application/json&#x27;</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> \</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">-H </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&#x27;Authorization: Bearer &lt;SCALEKIT_ACCESS_TOKEN&gt;&#x27;</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> \</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">-d </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&#x27;{</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">    &quot;name&quot;: &quot;GitHub Actions Deployment Service&quot;,</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">    &quot;description&quot;: &quot;Service account for GitHub Actions to deploy applications to production&quot;,</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">    &quot;custom_claims&quot;: [</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">        {</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">            &quot;key&quot;: &quot;github_repository&quot;,</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">            &quot;value&quot;: &quot;acmecorp/inventory-service&quot;</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">        },</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">        {</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">            &quot;key&quot;: &quot;environment&quot;,</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">            &quot;value&quot;: &quot;production_us&quot;</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">        }</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">    ],</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">    &quot;scopes&quot;: [</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">        &quot;deploy:applications&quot;,</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">        &quot;read:deployments&quot;</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">    ],</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">    &quot;audience&quot;: [</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">        &quot;deployment-api.acmecorp.com&quot;</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">    ],</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">    &quot;expiry&quot;: 3600</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">}&#x27;</span></span>
<span class="line"></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn button_xRi0"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code class="simple_code">name</code></td><td>string</td><td>Optional</td><td>A descriptive name for the M2M client (e.g., &quot;GitHub Actions Deployment Service&quot;)</td></tr><tr><td><code class="simple_code">description</code></td><td>string</td><td>Optional</td><td>A detailed explanation of the client&#x27;s purpose and usage</td></tr><tr><td><code class="simple_code">custom_claims</code></td><td>array</td><td>Optional</td><td>Key-value pairs that provide additional context about the client. Each claim must have a <code class="simple_code">key</code> and <code class="simple_code">value</code> field</td></tr><tr><td><code class="simple_code">scopes</code></td><td>array</td><td>Optional</td><td>List of permissions the client needs (e.g., [&quot;deploy<!-- -->:applications<!-- -->&quot;, &quot;read<!-- -->:deployments<!-- -->&quot;])</td></tr><tr><td><code class="simple_code">audience</code></td><td>array</td><td>Optional</td><td>List of API endpoints this client will access (e.g., [&quot;deployment-api.acmecorp.com&quot;])</td></tr><tr><td><code class="simple_code">expiry</code></td><td>number</td><td>Optional</td><td>Token expiration time in seconds. Defaults to 3600 (1 hour)</td></tr></tbody></table>
<p>The API response contains the client details, including the <code class="simple_code">client_id</code> and <code class="simple_code">client_secret</code>.</p>
<div class="scalar-card"><div class="scalar-card-content scalar-card--muted scalar-card-header"><div class="scalar-card-header-slots"><div class="scalar-card-header-slot scalar-card-header-title">Register an M2M client API response</div></div></div><div class="scalar-card-content scalar-card--muted custom-scroll"><div><div class="CodeBlock_WzW2"><div class="content_jaVp"><pre class="pre_H8NU shiki"><code class="language-json"><span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">    &quot;client&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">        &quot;client_id&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;m2morg_68315758685323697&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">        &quot;secrets&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">            {</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">                &quot;id&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;sks_68315758802764209&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">                &quot;create_time&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;2025-04-16T06:56:05.360Z&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">                &quot;update_time&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;2025-04-16T06:56:05.367190455Z&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">                &quot;secret_suffix&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;UZ0X&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">                &quot;status&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;ACTIVE&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">                &quot;last_used_time&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;2025-04-16T06:56:05.360Z&quot;</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">            }</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">        ],</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">        &quot;name&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;GitHub Actions Deployment Service&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">        &quot;description&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;Service account for GitHub Actions to deploy applications to production&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">        &quot;organization_id&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;org_59615193906282635&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">        &quot;create_time&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;2025-04-16T06:56:05.290Z&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">        &quot;update_time&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;2025-04-16T06:56:05.292145150Z&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">        &quot;scopes&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">            &quot;deploy:applications&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">            &quot;read:deployments&quot;</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">        ],</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">        &quot;audience&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">            &quot;deployment-api.acmecorp.com&quot;</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">        ],</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">        &quot;custom_claims&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">            {</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">                &quot;key&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;github_repository&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">                &quot;value&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;acmecorp/inventory-service&quot;</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">            },</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">            {</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">                &quot;key&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;environment&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">                &quot;value&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;production_us&quot;</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">            }</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">        ]</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">    &quot;plain_secret&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">: </span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;test_ly8G57h0ErRJSObJI6dShkoaq6bigo11Dxcfa6reKG1kKNVbqBKW4H5Ctmb5UZ0X&quot;</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn button_xRi0"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<p>Note: Scalekit only returns the <code class="simple_code">plain_secret</code> once during client creation and does not store it. Instruct your M2M client developers to store the <code class="simple_code">plain_secret</code> securely.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="authenticate-the-m2m-client">Authenticate the M2M client<a href="#authenticate-the-m2m-client" class="hash-link" aria-label="Direct link to Authenticate the M2M client" title="Direct link to Authenticate the M2M client">​</a></h2>
<p>After registration, the M2M client authenticates with your Scalekit environment using its <code class="simple_code">client_id</code> and <code class="simple_code">client_secret</code> (the <code class="simple_code">plain_secret</code> obtained earlier) to request an access token. This process uses the OAuth 2.0 client credentials grant type.</p>
<p>The client sends a POST request to the <code class="simple_code">/oauth/token</code> endpoint:</p>
<div class="scalar-card"><div class="scalar-card-content scalar-card--muted scalar-card-header"><div class="scalar-card-header-slots"><div class="scalar-card-header-slot scalar-card-header-title">Authenticate the M2M client</div></div></div><div class="scalar-card-content scalar-card--muted custom-scroll"><div><div class="CodeBlock_WzW2"><div class="content_jaVp"><pre class="pre_H8NU shiki"><code class="language-sh"><span class="line"><span style="color:#4078F2;--shiki-dark:#B392F0">curl</span><span style="color:#986801;--shiki-dark:#79B8FF"> -X</span><span style="color:#50A14F;--shiki-dark:#9ECBFF"> POST</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> \</span></span>
<span class="line"><span style="color:#50A14F;--shiki-dark:#9ECBFF">  &quot;https://&lt;SCALEKIT_ENVIRONMENT_URL&gt;/oauth/token&quot;</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> \</span></span>
<span class="line"><span style="color:#986801;--shiki-dark:#79B8FF">  -H</span><span style="color:#50A14F;--shiki-dark:#9ECBFF"> &quot;Content-Type: application/x-www-form-urlencoded&quot;</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> \</span></span>
<span class="line"><span style="color:#986801;--shiki-dark:#79B8FF">  -d</span><span style="color:#50A14F;--shiki-dark:#9ECBFF"> &quot;grant_type=client_credentials&quot;</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> \</span></span>
<span class="line"><span style="color:#986801;--shiki-dark:#79B8FF">  -d</span><span style="color:#50A14F;--shiki-dark:#9ECBFF"> &quot;client_id=&lt;M2M_CLIENT_ID&gt;&quot;</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> \</span></span>
<span class="line"><span style="color:#986801;--shiki-dark:#79B8FF">  -d</span><span style="color:#50A14F;--shiki-dark:#9ECBFF"> &quot;client_secret=&lt;M2M_CLIENT_SECRET&gt;&quot;</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> \</span></span>
<span class="line"></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn button_xRi0"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<p>Refer to <a href="/docs/m2m/api-auth-for-m2m-clients">API Authentication for M2M clients</a> for detailed information on how M2M clients authenticate.</p>
<p>Upon successful authentication, Scalekit issues a JWT access token.</p>
<div class="scalar-card"><div class="scalar-card-content scalar-card--muted scalar-card-header"><div class="scalar-card-header-slots"><div class="scalar-card-header-slot scalar-card-header-title">Access token response</div></div></div><div class="scalar-card-content scalar-card--muted custom-scroll"><div><div class="CodeBlock_WzW2"><div class="content_jaVp"><pre class="pre_H8NU shiki"><code class="language-json"><span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">{</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">  &quot;access_token&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">:</span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;&lt;M2M_JWT_ACCESS_TOKEN&gt;&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">  &quot;token_type&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">:</span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;Bearer&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">  &quot;expires_in&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">:</span><span style="color:#986801;--shiki-dark:#79B8FF">86399</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#79B8FF">  &quot;scope&quot;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">:</span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&quot;deploy:applications read:deployments&quot;</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn button_xRi0"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<p>The client includes this access token in the <code class="simple_code">Authorization</code> header of subsequent requests to your API server.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="validate-access-tokens-in-your-api-server">Validate access tokens in your API server<a href="#validate-access-tokens-in-your-api-server" class="hash-link" aria-label="Direct link to Validate access tokens in your API server" title="Direct link to Validate access tokens in your API server">​</a></h2>
<p>Your API server must validate the incoming JWT access token to ensure the request originates from a trusted M2M client and that the token is legitimate.</p>
<p>Validate the token in two steps:</p>
<ol>
<li><strong>Retrieve the Public Key:</strong> Fetch the appropriate public key from your Scalekit environment&#x27;s JSON Web Key Set (JWKS) endpoint. Use the <code class="simple_code">kid</code> (Key ID) from the JWT header to identify the correct key. Cache the key according to standard JWKS practices.</li>
</ol>
<div class="scalar-card"><div class="scalar-card-content scalar-card--muted scalar-card-header"><div class="scalar-card-header-slots"><div class="scalar-card-header-slot scalar-card-header-title">Retrieve the public key</div></div></div><div class="scalar-card-content scalar-card--muted custom-scroll"><div><div class="CodeBlock_WzW2"><div class="content_jaVp"><pre class="pre_H8NU shiki"><code class="language-js"><span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">import</span><span style="color:#E45649;--shiki-dark:#E1E4E8"> jwksClient</span><span style="color:#A626A4;--shiki-dark:#F97583"> from</span><span style="color:#50A14F;--shiki-dark:#9ECBFF"> &#x27;jwks-rsa&#x27;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">const</span><span style="color:#986801;--shiki-dark:#79B8FF"> client</span><span style="color:#0184BC;--shiki-dark:#F97583"> =</span><span style="color:#4078F2;--shiki-dark:#B392F0"> jwksClient</span><span style="color:#383A42;--shiki-dark:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E1E4E8">  jwksUri</span><span style="color:#0184BC;--shiki-dark:#E1E4E8">:</span><span style="color:#50A14F;--shiki-dark:#9ECBFF"> &#x27;YOUR_JWKS_URI&#x27;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E1E4E8">  cache</span><span style="color:#0184BC;--shiki-dark:#E1E4E8">:</span><span style="color:#986801;--shiki-dark:#79B8FF"> true</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">async</span><span style="color:#A626A4;--shiki-dark:#F97583"> function</span><span style="color:#4078F2;--shiki-dark:#B392F0"> getPublicKey</span><span style="color:#383A42;--shiki-dark:#E1E4E8">(</span><span style="color:#383A42;--shiki-dark:#FFAB70">header</span><span style="color:#0184BC;--shiki-dark:#F97583">:</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> any</span><span style="color:#383A42;--shiki-dark:#E1E4E8">)</span><span style="color:#0184BC;--shiki-dark:#F97583">:</span><span style="color:#C18401;--shiki-dark:#B392F0"> Promise</span><span style="color:#383A42;--shiki-dark:#E1E4E8">&lt;</span><span style="color:#383A42;--shiki-dark:#79B8FF">string</span><span style="color:#383A42;--shiki-dark:#E1E4E8">&gt; {</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">  return</span><span style="color:#A626A4;--shiki-dark:#F97583"> new</span><span style="color:#C18401;--shiki-dark:#79B8FF"> Promise</span><span style="color:#383A42;--shiki-dark:#E1E4E8">((</span><span style="color:#383A42;--shiki-dark:#FFAB70">resolve</span><span style="color:#383A42;--shiki-dark:#E1E4E8">, </span><span style="color:#383A42;--shiki-dark:#FFAB70">reject</span><span style="color:#383A42;--shiki-dark:#E1E4E8">) </span><span style="color:#A626A4;--shiki-dark:#F97583">=&gt;</span><span style="color:#383A42;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">    client.</span><span style="color:#4078F2;--shiki-dark:#B392F0">getSigningKey</span><span style="color:#383A42;--shiki-dark:#E1E4E8">(header.</span><span style="color:#E45649;--shiki-dark:#E1E4E8">kid</span><span style="color:#383A42;--shiki-dark:#E1E4E8">, (</span><span style="color:#383A42;--shiki-dark:#FFAB70">err</span><span style="color:#383A42;--shiki-dark:#E1E4E8">, </span><span style="color:#383A42;--shiki-dark:#FFAB70">key</span><span style="color:#383A42;--shiki-dark:#E1E4E8">) </span><span style="color:#A626A4;--shiki-dark:#F97583">=&gt;</span><span style="color:#383A42;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">      if</span><span style="color:#383A42;--shiki-dark:#E1E4E8"> (err) </span><span style="color:#4078F2;--shiki-dark:#B392F0">reject</span><span style="color:#383A42;--shiki-dark:#E1E4E8">(err);</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">      else</span><span style="color:#4078F2;--shiki-dark:#B392F0"> resolve</span><span style="color:#383A42;--shiki-dark:#E1E4E8">(key.</span><span style="color:#4078F2;--shiki-dark:#B392F0">getPublicKey</span><span style="color:#383A42;--shiki-dark:#E1E4E8">());</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn button_xRi0"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<ol start="2">
<li><strong>Verify the Token Signature:</strong> Use the retrieved public key and a JWT library to verify the token&#x27;s signature and claims (like issuer, audience, and expiration).</li>
</ol>
<div class="scalar-card"><div class="scalar-card-content scalar-card--muted scalar-card-header"><div class="scalar-card-header-slots"><div class="scalar-card-header-slot scalar-card-header-title">Verify the token signature</div></div></div><div class="scalar-card-content scalar-card--muted custom-scroll"><div><div class="CodeBlock_WzW2"><div class="content_jaVp"><pre class="pre_H8NU shiki"><code class="language-js"><span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">import</span><span style="color:#E45649;--shiki-dark:#E1E4E8"> jwt</span><span style="color:#A626A4;--shiki-dark:#F97583"> from</span><span style="color:#50A14F;--shiki-dark:#9ECBFF"> &#x27;jsonwebtoken&#x27;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">async</span><span style="color:#A626A4;--shiki-dark:#F97583"> function</span><span style="color:#4078F2;--shiki-dark:#B392F0"> verifyToken</span><span style="color:#383A42;--shiki-dark:#E1E4E8">(</span><span style="color:#383A42;--shiki-dark:#FFAB70">token</span><span style="color:#0184BC;--shiki-dark:#F97583">:</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> string</span><span style="color:#383A42;--shiki-dark:#E1E4E8">, </span><span style="color:#383A42;--shiki-dark:#FFAB70">publicKey</span><span style="color:#0184BC;--shiki-dark:#F97583">:</span><span style="color:#0184BC;--shiki-dark:#79B8FF"> string</span><span style="color:#383A42;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">  try</span><span style="color:#383A42;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">    const</span><span style="color:#986801;--shiki-dark:#79B8FF"> decoded</span><span style="color:#0184BC;--shiki-dark:#F97583"> =</span><span style="color:#383A42;--shiki-dark:#E1E4E8"> jwt.</span><span style="color:#4078F2;--shiki-dark:#B392F0">decode</span><span style="color:#383A42;--shiki-dark:#E1E4E8">(token, { </span><span style="color:#E45649;--shiki-dark:#E1E4E8">complete</span><span style="color:#0184BC;--shiki-dark:#E1E4E8">:</span><span style="color:#986801;--shiki-dark:#79B8FF"> true</span><span style="color:#383A42;--shiki-dark:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">    const</span><span style="color:#986801;--shiki-dark:#79B8FF"> verified</span><span style="color:#0184BC;--shiki-dark:#F97583"> =</span><span style="color:#383A42;--shiki-dark:#E1E4E8"> jwt.</span><span style="color:#4078F2;--shiki-dark:#B392F0">verify</span><span style="color:#383A42;--shiki-dark:#E1E4E8">(token, publicKey, {</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E1E4E8">      algorithms</span><span style="color:#0184BC;--shiki-dark:#E1E4E8">:</span><span style="color:#383A42;--shiki-dark:#E1E4E8"> [</span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&#x27;RS256&#x27;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E1E4E8">      complete</span><span style="color:#0184BC;--shiki-dark:#E1E4E8">:</span><span style="color:#986801;--shiki-dark:#79B8FF"> true</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">    return</span><span style="color:#383A42;--shiki-dark:#E1E4E8"> verified.</span><span style="color:#E45649;--shiki-dark:#E1E4E8">payload</span><span style="color:#383A42;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">  } </span><span style="color:#A626A4;--shiki-dark:#F97583">catch</span><span style="color:#383A42;--shiki-dark:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#F97583">    throw</span><span style="color:#A626A4;--shiki-dark:#F97583"> new</span><span style="color:#4078F2;--shiki-dark:#B392F0"> Error</span><span style="color:#383A42;--shiki-dark:#E1E4E8">(</span><span style="color:#50A14F;--shiki-dark:#9ECBFF">&#x27;Token verification failed&#x27;</span><span style="color:#383A42;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn button_xRi0"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<p>Find complete code examples in the <a href="https://github.com/scalekit-developers/gists/tree/main/m2m" target="_blank" rel="noopener noreferrer">Scalekit M2M Gists repository</a>.</p>
<p>If the token verification succeeds, your API server can trust the request&#x27;s authenticity and proceed with processing it based on the permissions (scopes) encoded within the token.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/m2m/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a></nav><div class="feedbackFooter"><hr><div class="docsRating"><div>Is this page helpful?<a class="button button--secondary button--outline btn-outline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg> Yes</a><a class="button button--secondary button--outline btn-outline"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M466.27 225.31c4.674-22.647.864-44.538-8.99-62.99 2.958-23.868-4.021-48.565-17.34-66.99C438.986 39.423 404.117 0 327 0c-7 0-15 .01-22.22.01C201.195.01 168.997 40 128 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v240c0 17.673 14.327 32 32 32h64c11.842 0 22.175-6.438 27.708-16h7.052c19.146 16.953 46.013 60.653 68.76 83.4 13.667 13.667 10.153 108.6 71.76 108.6 57.58 0 95.27-31.936 95.27-104.73 0-18.41-3.93-33.73-8.85-46.54h36.48c48.602 0 85.82-41.565 85.82-85.58 0-19.15-4.96-34.99-13.73-49.84zM64 296c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm330.18 16.73H290.19c0 37.82 28.36 55.37 28.36 94.54 0 23.75 0 56.73-47.27 56.73-18.91-18.91-9.46-66.18-37.82-94.54C206.9 342.89 167.28 272 138.92 272H128V85.83c53.611 0 100.001-37.82 171.64-37.82h37.82c35.512 0 60.82 17.12 53.12 65.9 15.2 8.16 26.5 36.44 13.94 57.57 21.581 20.384 18.699 51.065 5.21 65.62 9.45 0 22.36 18.91 22.27 37.81-.09 18.91-16.71 37.82-37.82 37.82z"></path></svg> No</a><div class="hidden feedbackContainer"><textarea rows="3" placeholder="Sorry to hear that. How can we help you?"></textarea><a class="button button--secondary button--outline">Send Feedback</a></div></div></div><div class="footerLink"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><circle cx="256" cy="256" r="208" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="256" cy="256" r="80" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="m208 54 8 132m80 0 8-132m-96 404 8-132m80 0 8 132m154-250-132 8m0 80 132 8M54 208l132 8m0 80-132 8"></path></svg>Need help? <a href="mailto:support@scalekit.com">Contact Support</a></div><div class="footerLink"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke-miterlimit="10" stroke-width="32" d="M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80z"></path><path fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="28" d="M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296"></path><circle cx="250" cy="348" r="20"></circle></svg>Questions? <a href="mailto:hi@scalekit.com">Contact Us</a></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#register-an-m2m-client" class="table-of-contents__link toc-highlight">Register an M2M client</a></li><li><a href="#authenticate-the-m2m-client" class="table-of-contents__link toc-highlight">Authenticate the M2M client</a></li><li><a href="#validate-access-tokens-in-your-api-server" class="table-of-contents__link toc-highlight">Validate access tokens in your API server</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>